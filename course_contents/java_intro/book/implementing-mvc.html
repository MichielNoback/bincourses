<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 33 Implementing MVC | The Java Track</title>
  <meta name="description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 33 Implementing MVC | The Java Track" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 33 Implementing MVC | The Java Track" />
  
  <meta name="twitter:description" content="This ebook accompanies the Java course track of bioinformatics at the Hanze University of Applied Science, Groningen (The Netherlands)." />
  

<meta name="author" content="Michiel Noback" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="a-first-project-1.html"/>
<link rel="next" href="thymeleaf-expressions.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Java eBook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> General introduction</a></li>
<li class="chapter" data-level="2" data-path="keyboard-shortcuts.html"><a href="keyboard-shortcuts.html"><i class="fa fa-check"></i><b>2</b> Keyboard shortcuts</a></li>
<li class="part"><span><b>Part I - Getting Started</b></span></li>
<li class="chapter" data-level="3" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html"><i class="fa fa-check"></i><b>3</b> A first IntelliJ project</a>
<ul>
<li class="chapter" data-level="3.1" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#dependency-management"><i class="fa fa-check"></i><b>3.1</b> Dependency management</a></li>
<li class="chapter" data-level="3.2" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#a-first-project"><i class="fa fa-check"></i><b>3.2</b> A first project</a></li>
<li class="chapter" data-level="3.3" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#distribute-an-executable"><i class="fa fa-check"></i><b>3.3</b> Distribute an executable</a></li>
<li class="chapter" data-level="3.4" data-path="a-first-intellij-project.html"><a href="a-first-intellij-project.html#wrap-up"><i class="fa fa-check"></i><b>3.4</b> Wrap-up</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html"><i class="fa fa-check"></i><b>4</b> The essence of Java</a>
<ul>
<li class="chapter" data-level="4.1" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#cross-platform"><i class="fa fa-check"></i><b>4.1</b> Cross-platform</a></li>
<li class="chapter" data-level="4.2" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#multithreaded"><i class="fa fa-check"></i><b>4.2</b> Multithreaded</a></li>
<li class="chapter" data-level="4.3" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#object-oriented"><i class="fa fa-check"></i><b>4.3</b> Object-Oriented</a></li>
<li class="chapter" data-level="4.4" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#strongly-typed-and-scoped"><i class="fa fa-check"></i><b>4.4</b> Strongly typed and scoped</a></li>
<li class="chapter" data-level="4.5" data-path="the-essence-of-java.html"><a href="the-essence-of-java.html#compiled"><i class="fa fa-check"></i><b>4.5</b> Compiled</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html"><i class="fa fa-check"></i><b>5</b> Basic program structure and flow</a>
<ul>
<li class="chapter" data-level="5.1" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html#basic-program-structure"><i class="fa fa-check"></i><b>5.1</b> Basic program structure</a></li>
<li class="chapter" data-level="5.2" data-path="basic-program-structure-and-flow.html"><a href="basic-program-structure-and-flow.html#summary"><i class="fa fa-check"></i><b>5.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html"><i class="fa fa-check"></i><b>6</b> Objects and classes</a>
<ul>
<li class="chapter" data-level="6.1" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#ninjas"><i class="fa fa-check"></i><b>6.1</b> Ninjas</a></li>
<li class="chapter" data-level="6.2" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#growing-cells"><i class="fa fa-check"></i><b>6.2</b> Growing cells</a></li>
<li class="chapter" data-level="6.3" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#object-construction-first-iteration"><i class="fa fa-check"></i><b>6.3</b> Object construction (first iteration)</a></li>
<li class="chapter" data-level="6.4" data-path="first-look-at-objects.html"><a href="first-look-at-objects.html#inheritance-first-discussion"><i class="fa fa-check"></i><b>6.4</b> Inheritance (first discussion)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html"><i class="fa fa-check"></i><b>7</b> Naming and commenting stuff</a>
<ul>
<li class="chapter" data-level="7.1" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html#naming"><i class="fa fa-check"></i><b>7.1</b> Naming</a></li>
<li class="chapter" data-level="7.2" data-path="naming-and-commenting-stuff.html"><a href="naming-and-commenting-stuff.html#commenting"><i class="fa fa-check"></i><b>7.2</b> Commenting</a></li>
</ul></li>
<li class="part"><span><b>Part II - Syntax</b></span></li>
<li class="chapter" data-level="8" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>8</b> Data Types</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-types.html"><a href="data-types.html#primitives"><i class="fa fa-check"></i><b>8.1</b> Primitives</a></li>
<li class="chapter" data-level="8.2" data-path="data-types.html"><a href="data-types.html#reference-types"><i class="fa fa-check"></i><b>8.2</b> Reference types</a></li>
<li class="chapter" data-level="8.3" data-path="data-types.html"><a href="data-types.html#what-is-the-difference"><i class="fa fa-check"></i><b>8.3</b> What is the difference?</a></li>
<li class="chapter" data-level="8.4" data-path="data-types.html"><a href="data-types.html#summary-1"><i class="fa fa-check"></i><b>8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="arrays.html"><a href="arrays.html"><i class="fa fa-check"></i><b>9</b> Arrays</a>
<ul>
<li class="chapter" data-level="9.1" data-path="arrays.html"><a href="arrays.html#creating-arrays"><i class="fa fa-check"></i><b>9.1</b> Creating arrays</a></li>
<li class="chapter" data-level="9.2" data-path="arrays.html"><a href="arrays.html#printing"><i class="fa fa-check"></i><b>9.2</b> Printing</a></li>
<li class="chapter" data-level="9.3" data-path="arrays.html"><a href="arrays.html#accessing"><i class="fa fa-check"></i><b>9.3</b> Accessing</a></li>
<li class="chapter" data-level="9.4" data-path="arrays.html"><a href="arrays.html#multidimensional-arrays"><i class="fa fa-check"></i><b>9.4</b> Multidimensional arrays</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="operators.html"><a href="operators.html"><i class="fa fa-check"></i><b>10</b> Operators</a>
<ul>
<li class="chapter" data-level="10.1" data-path="operators.html"><a href="operators.html#overview"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="flow-control.html"><a href="flow-control.html"><i class="fa fa-check"></i><b>11</b> Flow control</a>
<ul>
<li class="chapter" data-level="11.1" data-path="flow-control.html"><a href="flow-control.html#if-else-if-else"><i class="fa fa-check"></i><b>11.1</b> if [else if] [else]</a></li>
<li class="chapter" data-level="11.2" data-path="flow-control.html"><a href="flow-control.html#while"><i class="fa fa-check"></i><b>11.2</b> while</a></li>
<li class="chapter" data-level="11.3" data-path="flow-control.html"><a href="flow-control.html#for"><i class="fa fa-check"></i><b>11.3</b> for</a></li>
<li class="chapter" data-level="11.4" data-path="flow-control.html"><a href="flow-control.html#break-and-continue"><i class="fa fa-check"></i><b>11.4</b> break and continue</a></li>
<li class="chapter" data-level="11.5" data-path="flow-control.html"><a href="flow-control.html#switchcase"><i class="fa fa-check"></i><b>11.5</b> switch/case</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="methods-1.html"><a href="methods-1.html"><i class="fa fa-check"></i><b>12</b> Methods</a>
<ul>
<li class="chapter" data-level="12.1" data-path="methods-1.html"><a href="methods-1.html#method-signature"><i class="fa fa-check"></i><b>12.1</b> Method signature</a></li>
<li class="chapter" data-level="12.2" data-path="methods-1.html"><a href="methods-1.html#interacting-with-state"><i class="fa fa-check"></i><b>12.2</b> Interacting with state</a></li>
<li class="chapter" data-level="12.3" data-path="methods-1.html"><a href="methods-1.html#method-overloading"><i class="fa fa-check"></i><b>12.3</b> Method overloading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="packages-and-imports.html"><a href="packages-and-imports.html"><i class="fa fa-check"></i><b>13</b> Packages and Imports</a>
<ul>
<li class="chapter" data-level="13.1" data-path="packages-and-imports.html"><a href="packages-and-imports.html#class-path"><i class="fa fa-check"></i><b>13.1</b> Class path</a></li>
<li class="chapter" data-level="13.2" data-path="packages-and-imports.html"><a href="packages-and-imports.html#namespaces"><i class="fa fa-check"></i><b>13.2</b> Namespaces</a></li>
<li class="chapter" data-level="13.3" data-path="packages-and-imports.html"><a href="packages-and-imports.html#packages"><i class="fa fa-check"></i><b>13.3</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="the-power-of-naming.html"><a href="the-power-of-naming.html"><i class="fa fa-check"></i><b>14</b> The power of naming</a></li>
<li class="part"><span><b>Part III - Core APIs</b></span></li>
<li class="chapter" data-level="15" data-path="interfaces.html"><a href="interfaces.html"><i class="fa fa-check"></i><b>15</b> Interfaces</a>
<ul>
<li class="chapter" data-level="15.1" data-path="interfaces.html"><a href="interfaces.html#a-contract-without-implementation-interface"><i class="fa fa-check"></i><b>15.1</b> A contract without implementation: interface</a></li>
<li class="chapter" data-level="15.2" data-path="interfaces.html"><a href="interfaces.html#summary-2"><i class="fa fa-check"></i><b>15.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html"><i class="fa fa-check"></i><b>16</b> The Java Collections API</a>
<ul>
<li class="chapter" data-level="16.1" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#lists-arraylist-and-linkedlist"><i class="fa fa-check"></i><b>16.1</b> Lists: ArrayList and LinkedList</a></li>
<li class="chapter" data-level="16.2" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#code-against-interfaces-not-implementations"><i class="fa fa-check"></i><b>16.2</b> Code against interfaces, not implementations</a></li>
<li class="chapter" data-level="16.3" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#the-collection-interfaces-map-list-set"><i class="fa fa-check"></i><b>16.3</b> The collection interfaces: Map, List, Set</a></li>
<li class="chapter" data-level="16.4" data-path="the-java-collections-api.html"><a href="the-java-collections-api.html#collections-utility-methods"><i class="fa fa-check"></i><b>16.4</b> Collections utility methods</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="methods-of-class-object.html"><a href="methods-of-class-object.html"><i class="fa fa-check"></i><b>17</b> Methods of class Object</a>
<ul>
<li class="chapter" data-level="17.1" data-path="methods-of-class-object.html"><a href="methods-of-class-object.html#tostring-equals-hashcode-getclass"><i class="fa fa-check"></i><b>17.1</b> toString(), equals(), hashCode(), getClass()</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="records.html"><a href="records.html"><i class="fa fa-check"></i><b>18</b> Records</a>
<ul>
<li class="chapter" data-level="18.1" data-path="records.html"><a href="records.html#basics"><i class="fa fa-check"></i><b>18.1</b> Basics</a></li>
<li class="chapter" data-level="18.2" data-path="records.html"><a href="records.html#customization"><i class="fa fa-check"></i><b>18.2</b> Customization</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="sorting.html"><a href="sorting.html"><i class="fa fa-check"></i><b>19</b> Sorting</a>
<ul>
<li class="chapter" data-level="19.1" data-path="sorting.html"><a href="sorting.html#natural-sorting-with-the-comparable-interface"><i class="fa fa-check"></i><b>19.1</b> “Natural” sorting with the <code>Comparable</code> interface</a></li>
<li class="chapter" data-level="19.2" data-path="sorting.html"><a href="sorting.html#sorting-using-a-custom-comparator"><i class="fa fa-check"></i><b>19.2</b> Sorting using a custom <code>Comparator</code></a></li>
<li class="chapter" data-level="19.3" data-path="sorting.html"><a href="sorting.html#multilevel-sorting"><i class="fa fa-check"></i><b>19.3</b> Multilevel sorting</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="exceptions.html"><a href="exceptions.html"><i class="fa fa-check"></i><b>20</b> Exceptions</a>
<ul>
<li class="chapter" data-level="20.1" data-path="exceptions.html"><a href="exceptions.html#what-are-exceptions"><i class="fa fa-check"></i><b>20.1</b> What are exceptions</a></li>
<li class="chapter" data-level="20.2" data-path="exceptions.html"><a href="exceptions.html#checked-and-unchecked-exceptions"><i class="fa fa-check"></i><b>20.2</b> Checked and unchecked exceptions</a></li>
<li class="chapter" data-level="20.3" data-path="exceptions.html"><a href="exceptions.html#all-trycatch-elements"><i class="fa fa-check"></i><b>20.3</b> All try/catch elements</a></li>
<li class="chapter" data-level="20.4" data-path="exceptions.html"><a href="exceptions.html#try-with-resources"><i class="fa fa-check"></i><b>20.4</b> Try-with resources</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="file-io.html"><a href="file-io.html"><i class="fa fa-check"></i><b>21</b> File IO</a>
<ul>
<li class="chapter" data-level="21.1" data-path="file-io.html"><a href="file-io.html#path-paths"><i class="fa fa-check"></i><b>21.1</b> Path &amp; Paths</a></li>
<li class="chapter" data-level="21.2" data-path="file-io.html"><a href="file-io.html#file-and-files"><i class="fa fa-check"></i><b>21.2</b> File and Files</a></li>
<li class="chapter" data-level="21.3" data-path="file-io.html"><a href="file-io.html#parsing-file-content-the-easy-way"><i class="fa fa-check"></i><b>21.3</b> Parsing file content the easy way</a></li>
<li class="chapter" data-level="21.4" data-path="file-io.html"><a href="file-io.html#note-on-character-sets"><i class="fa fa-check"></i><b>21.4</b> Note on character sets</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>22</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="22.1" data-path="regular-expressions.html"><a href="regular-expressions.html#regex-syntax"><i class="fa fa-check"></i><b>22.1</b> Regex syntax?</a></li>
<li class="chapter" data-level="22.2" data-path="regular-expressions.html"><a href="regular-expressions.html#methods-of-class-string"><i class="fa fa-check"></i><b>22.2</b> Methods of class String</a></li>
<li class="chapter" data-level="22.3" data-path="regular-expressions.html"><a href="regular-expressions.html#pattern-matcher"><i class="fa fa-check"></i><b>22.3</b> Pattern &amp; Matcher</a></li>
</ul></li>
<li class="part"><span><b>Part IV - OOP</b></span></li>
<li class="chapter" data-level="23" data-path="encapsulation.html"><a href="encapsulation.html"><i class="fa fa-check"></i><b>23</b> Encapsulation</a>
<ul>
<li class="chapter" data-level="23.1" data-path="encapsulation.html"><a href="encapsulation.html#summary-3"><i class="fa fa-check"></i><b>23.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html"><i class="fa fa-check"></i><b>24</b> Access modifiers &amp; Other keywords</a>
<ul>
<li class="chapter" data-level="24.1" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html#access-modifiers"><i class="fa fa-check"></i><b>24.1</b> Access Modifiers</a></li>
<li class="chapter" data-level="24.2" data-path="access-modifiers-other-keywords.html"><a href="access-modifiers-other-keywords.html#other-keywords"><i class="fa fa-check"></i><b>24.2</b> Other keywords</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html"><i class="fa fa-check"></i><b>25</b> Inheritance and UML</a>
<ul>
<li class="chapter" data-level="25.1" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html#the-testtube-with-cells"><i class="fa fa-check"></i><b>25.1</b> The TestTube with cells</a></li>
<li class="chapter" data-level="25.2" data-path="inheritance-and-uml.html"><a href="inheritance-and-uml.html#apply-inheritance-to-model-what-is-common"><i class="fa fa-check"></i><b>25.2</b> Apply inheritance to model what is common</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="enums-constants-on-steroids.html"><a href="enums-constants-on-steroids.html"><i class="fa fa-check"></i><b>26</b> Enums: constants on steroids</a>
<ul>
<li class="chapter" data-level="26.1" data-path="enums-constants-on-steroids.html"><a href="enums-constants-on-steroids.html#constants-are-everywhere"><i class="fa fa-check"></i><b>26.1</b> Constants are everywhere</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="encapsulation-revisited.html"><a href="encapsulation-revisited.html"><i class="fa fa-check"></i><b>27</b> Encapsulation revisited</a></li>
<li class="chapter" data-level="28" data-path="design-rules-summary.html"><a href="design-rules-summary.html"><i class="fa fa-check"></i><b>28</b> Design rules summary</a>
<ul>
<li class="chapter" data-level="28.1" data-path="design-rules-summary.html"><a href="design-rules-summary.html#equals-and-hashcode"><i class="fa fa-check"></i><b>28.1</b> equals() and hashCode()</a></li>
<li class="chapter" data-level="28.2" data-path="design-rules-summary.html"><a href="design-rules-summary.html#classes-1"><i class="fa fa-check"></i><b>28.2</b> Classes</a></li>
<li class="chapter" data-level="28.3" data-path="design-rules-summary.html"><a href="design-rules-summary.html#code-against-interfaces-not-implementations-1"><i class="fa fa-check"></i><b>28.3</b> Code against interfaces, not implementations</a></li>
<li class="chapter" data-level="28.4" data-path="design-rules-summary.html"><a href="design-rules-summary.html#exceptions-1"><i class="fa fa-check"></i><b>28.4</b> Exceptions</a></li>
<li class="chapter" data-level="28.5" data-path="design-rules-summary.html"><a href="design-rules-summary.html#access-modifiers-1"><i class="fa fa-check"></i><b>28.5</b> Access modifiers</a></li>
<li class="chapter" data-level="28.6" data-path="design-rules-summary.html"><a href="design-rules-summary.html#srp"><i class="fa fa-check"></i><b>28.6</b> SRP</a></li>
<li class="chapter" data-level="28.7" data-path="design-rules-summary.html"><a href="design-rules-summary.html#various"><i class="fa fa-check"></i><b>28.7</b> Various</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="inner-classes.html"><a href="inner-classes.html"><i class="fa fa-check"></i><b>29</b> Inner classes</a></li>
<li class="part"><span><b>Part V - Java Web Apps</b></span></li>
<li class="chapter" data-level="30" data-path="a-refresher.html"><a href="a-refresher.html"><i class="fa fa-check"></i><b>30</b> A refresher</a>
<ul>
<li class="chapter" data-level="30.1" data-path="a-refresher.html"><a href="a-refresher.html#introduction"><i class="fa fa-check"></i><b>30.1</b> Introduction</a></li>
<li class="chapter" data-level="30.2" data-path="a-refresher.html"><a href="a-refresher.html#the-basics-of-web"><i class="fa fa-check"></i><b>30.2</b> The basics of web</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="the-toolbox.html"><a href="the-toolbox.html"><i class="fa fa-check"></i><b>31</b> The toolbox</a></li>
<li class="chapter" data-level="32" data-path="a-first-project-1.html"><a href="a-first-project-1.html"><i class="fa fa-check"></i><b>32</b> A first project</a>
<ul>
<li class="chapter" data-level="32.1" data-path="a-first-project-1.html"><a href="a-first-project-1.html#introduction-1"><i class="fa fa-check"></i><b>32.1</b> Introduction</a></li>
<li class="chapter" data-level="32.2" data-path="a-first-project-1.html"><a href="a-first-project-1.html#the-steps"><i class="fa fa-check"></i><b>32.2</b> The steps</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="implementing-mvc.html"><a href="implementing-mvc.html"><i class="fa fa-check"></i><b>33</b> Implementing MVC</a>
<ul>
<li class="chapter" data-level="33.1" data-path="implementing-mvc.html"><a href="implementing-mvc.html#introduction-2"><i class="fa fa-check"></i><b>33.1</b> Introduction</a></li>
<li class="chapter" data-level="33.2" data-path="implementing-mvc.html"><a href="implementing-mvc.html#java-web-app-architecture"><i class="fa fa-check"></i><b>33.2</b> Java web app architecture</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html"><i class="fa fa-check"></i><b>34</b> Thymeleaf expressions</a>
<ul>
<li class="chapter" data-level="34.1" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html#introduction-3"><i class="fa fa-check"></i><b>34.1</b> Introduction</a></li>
<li class="chapter" data-level="34.2" data-path="thymeleaf-expressions.html"><a href="thymeleaf-expressions.html#expression-types"><i class="fa fa-check"></i><b>34.2</b> Expression types</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html"><i class="fa fa-check"></i><b>35</b> Thymeleaf flow control and fragments</a>
<ul>
<li class="chapter" data-level="35.1" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html#introduction-4"><i class="fa fa-check"></i><b>35.1</b> Introduction</a></li>
<li class="chapter" data-level="35.2" data-path="thymeleaf-flow-control-and-fragments.html"><a href="thymeleaf-flow-control-and-fragments.html#working-with-fragments"><i class="fa fa-check"></i><b>35.2</b> Working with fragments</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="sessions-scopes.html"><a href="sessions-scopes.html"><i class="fa fa-check"></i><b>36</b> Sessions &amp; Scopes</a>
<ul>
<li class="chapter" data-level="36.1" data-path="sessions-scopes.html"><a href="sessions-scopes.html#introduction-5"><i class="fa fa-check"></i><b>36.1</b> Introduction</a></li>
<li class="chapter" data-level="36.2" data-path="sessions-scopes.html"><a href="sessions-scopes.html#scopes"><i class="fa fa-check"></i><b>36.2</b> Scopes</a></li>
<li class="chapter" data-level="36.3" data-path="sessions-scopes.html"><a href="sessions-scopes.html#summary-of-scopes"><i class="fa fa-check"></i><b>36.3</b> Summary of scopes</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html"><i class="fa fa-check"></i><b>37</b> Servlet details and lifecycle hooks</a>
<ul>
<li class="chapter" data-level="37.1" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html#servlet-configuration"><i class="fa fa-check"></i><b>37.1</b> Servlet configuration</a></li>
<li class="chapter" data-level="37.2" data-path="servlet-details-and-lifecycle-hooks.html"><a href="servlet-details-and-lifecycle-hooks.html#hooks"><i class="fa fa-check"></i><b>37.2</b> Hooks</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="database-interaction.html"><a href="database-interaction.html"><i class="fa fa-check"></i><b>38</b> Database interaction</a>
<ul>
<li class="chapter" data-level="38.1" data-path="database-interaction.html"><a href="database-interaction.html#jdbc"><i class="fa fa-check"></i><b>38.1</b> JDBC</a></li>
<li class="chapter" data-level="38.2" data-path="database-interaction.html"><a href="database-interaction.html#the-naive-implementation"><i class="fa fa-check"></i><b>38.2</b> The naive implementation</a></li>
<li class="chapter" data-level="38.3" data-path="database-interaction.html"><a href="database-interaction.html#improve-on-naive-implementation"><i class="fa fa-check"></i><b>38.3</b> Improve on naive implementation</a></li>
<li class="chapter" data-level="38.4" data-path="database-interaction.html"><a href="database-interaction.html#refactoring-to-oo-principles"><i class="fa fa-check"></i><b>38.4</b> Refactoring to OO principles</a></li>
<li class="chapter" data-level="38.5" data-path="database-interaction.html"><a href="database-interaction.html#use-in-a-servlet-environment"><i class="fa fa-check"></i><b>38.5</b> Use in a servlet environment</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="a-simple-web-service-using-ajax.html"><a href="a-simple-web-service-using-ajax.html"><i class="fa fa-check"></i><b>39</b> A simple web service using Ajax</a>
<ul>
<li class="chapter" data-level="39.1" data-path="a-simple-web-service-using-ajax.html"><a href="a-simple-web-service-using-ajax.html#introduction-6"><i class="fa fa-check"></i><b>39.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html"><i class="fa fa-check"></i><b>40</b> Web filters and File uploads</a>
<ul>
<li class="chapter" data-level="40.1" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html#web-filters"><i class="fa fa-check"></i><b>40.1</b> Web filters</a></li>
<li class="chapter" data-level="40.2" data-path="web-filters-and-file-uploads.html"><a href="web-filters-and-file-uploads.html#file-uploads"><i class="fa fa-check"></i><b>40.2</b> File uploads</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="exercises-intro.html"><a href="exercises-intro.html"><i class="fa fa-check"></i><b>41</b> Exercises intro</a>
<ul>
<li class="chapter" data-level="41.1" data-path="exercises-intro.html"><a href="exercises-intro.html#implementing-mvc-1"><i class="fa fa-check"></i><b>41.1</b> Implementing MVC</a></li>
<li class="chapter" data-level="41.2" data-path="exercises-intro.html"><a href="exercises-intro.html#thymeleaf"><i class="fa fa-check"></i><b>41.2</b> Thymeleaf</a></li>
<li class="chapter" data-level="41.3" data-path="exercises-intro.html"><a href="exercises-intro.html#sessions"><i class="fa fa-check"></i><b>41.3</b> Sessions</a></li>
<li class="chapter" data-level="41.4" data-path="exercises-intro.html"><a href="exercises-intro.html#authentication-1"><i class="fa fa-check"></i><b>41.4</b> Authentication</a></li>
<li class="chapter" data-level="41.5" data-path="exercises-intro.html"><a href="exercises-intro.html#servlet-details-and-hooks"><i class="fa fa-check"></i><b>41.5</b> Servlet details and hooks</a></li>
<li class="chapter" data-level="41.6" data-path="exercises-intro.html"><a href="exercises-intro.html#database-interaction-1"><i class="fa fa-check"></i><b>41.6</b> Database interaction</a></li>
<li class="chapter" data-level="41.7" data-path="exercises-intro.html"><a href="exercises-intro.html#ajax"><i class="fa fa-check"></i><b>41.7</b> Ajax</a></li>
<li class="chapter" data-level="41.8" data-path="exercises-intro.html"><a href="exercises-intro.html#filters"><i class="fa fa-check"></i><b>41.8</b> Filters</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="html5-tags.html"><a href="html5-tags.html"><i class="fa fa-check"></i><b>42</b> HTML5 tags</a></li>
<li class="part"><span><b>Part VI - JUnit</b></span></li>
<li class="chapter" data-level="43" data-path="junit-5-basics.html"><a href="junit-5-basics.html"><i class="fa fa-check"></i><b>43</b> JUnit 5 basics</a>
<ul>
<li class="chapter" data-level="43.1" data-path="junit-5-basics.html"><a href="junit-5-basics.html#introduction-7"><i class="fa fa-check"></i><b>43.1</b> Introduction</a></li>
<li class="chapter" data-level="43.2" data-path="junit-5-basics.html"><a href="junit-5-basics.html#reasons-for-unit-testing"><i class="fa fa-check"></i><b>43.2</b> Reasons for unit testing</a></li>
<li class="chapter" data-level="43.3" data-path="junit-5-basics.html"><a href="junit-5-basics.html#running-junit-5-tests-using-gradle-and-intellij"><i class="fa fa-check"></i><b>43.3</b> Running JUnit 5 tests using Gradle and IntelliJ</a></li>
<li class="chapter" data-level="43.4" data-path="junit-5-basics.html"><a href="junit-5-basics.html#document"><i class="fa fa-check"></i><b>43.4</b> Document!</a></li>
<li class="chapter" data-level="43.5" data-path="junit-5-basics.html"><a href="junit-5-basics.html#junit-assert...-methods"><i class="fa fa-check"></i><b>43.5</b> JUnit <code>assert...()</code> methods</a></li>
<li class="chapter" data-level="43.6" data-path="junit-5-basics.html"><a href="junit-5-basics.html#testing-for-exceptions"><i class="fa fa-check"></i><b>43.6</b> Testing for Exceptions</a></li>
<li class="chapter" data-level="43.7" data-path="junit-5-basics.html"><a href="junit-5-basics.html#grouping-assertions-using-assertall"><i class="fa fa-check"></i><b>43.7</b> Grouping assertions using <code>assertAll()</code></a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html"><i class="fa fa-check"></i><b>44</b> JUnit 5 advanced features</a>
<ul>
<li class="chapter" data-level="44.1" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html#introduction-8"><i class="fa fa-check"></i><b>44.1</b> Introduction</a></li>
<li class="chapter" data-level="44.2" data-path="junit-5-advanced-features.html"><a href="junit-5-advanced-features.html#junit-5-annotations"><i class="fa fa-check"></i><b>44.2</b> JUnit 5 annotations</a></li>
</ul></li>
<li class="part"><span><b>Part VII - Design</b></span></li>
<li class="chapter" data-level="45" data-path="uml.html"><a href="uml.html"><i class="fa fa-check"></i><b>45</b> UML</a></li>
<li class="chapter" data-level="46" data-path="refactoring.html"><a href="refactoring.html"><i class="fa fa-check"></i><b>46</b> Refactoring</a>
<ul>
<li class="chapter" data-level="46.1" data-path="refactoring.html"><a href="refactoring.html#introduction-9"><i class="fa fa-check"></i><b>46.1</b> Introduction</a></li>
<li class="chapter" data-level="46.2" data-path="refactoring.html"><a href="refactoring.html#get-to-know-what-is-there"><i class="fa fa-check"></i><b>46.2</b> Get to know what is there</a></li>
<li class="chapter" data-level="46.3" data-path="refactoring.html"><a href="refactoring.html#refactor"><i class="fa fa-check"></i><b>46.3</b> Refactor</a></li>
<li class="chapter" data-level="46.4" data-path="refactoring.html"><a href="refactoring.html#take-over"><i class="fa fa-check"></i><b>46.4</b> Take over</a></li>
</ul></li>
<li class="part"><span><b>Part VIII - Spring Boot</b></span></li>
<li class="chapter" data-level="47" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html"><i class="fa fa-check"></i><b>47</b> REST and MVC with Spring</a>
<ul>
<li class="chapter" data-level="47.1" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html#create-a-new-project"><i class="fa fa-check"></i><b>47.1</b> Create a new project</a></li>
<li class="chapter" data-level="47.2" data-path="rest-and-mvc-with-spring.html"><a href="rest-and-mvc-with-spring.html#create-a-rest-response"><i class="fa fa-check"></i><b>47.2</b> Create a REST response</a></li>
</ul></li>
<li class="chapter" data-level="48" data-path="dependency-injection-in-spring.html"><a href="dependency-injection-in-spring.html"><i class="fa fa-check"></i><b>48</b> Dependency Injection in Spring</a></li>
<li class="chapter" data-level="49" data-path="core-spring-annotations.html"><a href="core-spring-annotations.html"><i class="fa fa-check"></i><b>49</b> Core (Spring) annotations</a>
<ul>
<li class="chapter" data-level="49.1" data-path="core-spring-annotations.html"><a href="core-spring-annotations.html#generic-annotations"><i class="fa fa-check"></i><b>49.1</b> Generic annotations</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Java Track</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="implementing-mvc" class="section level1" number="33">
<h1><span class="header-section-number">Chapter 33</span> Implementing MVC</h1>
<p>The topic of this post is setting up a clean “MVC“ Java web application.
This involves working with separated components for different responsibilities. Besides the Model, the View and the Controller, this post also deals with the Data Layer, a fourth component that is almost always a part of a web app.</p>
<div id="introduction-2" class="section level2" number="33.1">
<h2><span class="header-section-number">33.1</span> Introduction</h2>
<div id="the-components-a.k.a-layers" class="section level3 unnumbered">
<h3>The Components a.k.a Layers</h3>
<p>The components -or layers- of an MVS application are generally recognized in most applications,
web-based or not:</p>
<ul>
<li><strong>Model</strong>: the business-specific logic, model classes, domain-specific algorithms</li>
<li><strong>View</strong>: what the user gets to see, often the visual representation of the underlying data</li>
<li><strong>Controller</strong>: receives input or requests (from the user) and determines what action should be taken; what part of the model should be invoked</li>
<li><strong>Data layer</strong>: all data is abstracted away behind data access objects (DAOs)</li>
</ul>
<div class="figure">
<img src="05_web/figures/mvc_pattern2s.png" title="MVC pattern (extended)" alt="" />
<p class="caption">Create WEB-INF</p>
</div>
</div>
<div id="the-goal-a-random-phrase-of-the-day" class="section level3 unnumbered">
<h3>The goal: a random phrase of the day</h3>
<p>The specs: a web app that will display a phrase, chosen randomly from one of two categories: Bullshit or Management.</p>
<p>This post assumes you already have created a new Gradle-managed web app - see post
<a href="first_project.md">First Project</a></p>
</div>
</div>
<div id="java-web-app-architecture" class="section level2" number="33.2">
<h2><span class="header-section-number">33.2</span> Java web app architecture</h2>
<p>Java web apps are managed by servers, also called containers. We work with Tomcat, but the idea is the same for all.
Tomcat receives requests and forwards these to specific entry points in your app.
These entry points are not <code>main()</code> methods as in Commandline apps, but the service methods of Servlets:
<code>void doGet(HttpServletRequest request, HttpServletResponse response)</code> and <code>doPost(HttpServletRequest request, HttpServletResponse response)</code>.
Also, unlike commandline apps that receive their arguments via the <code>String[] args</code> argument to <code>main()</code>, the service methods receive <code>HttpServletRequest</code> and <code>HttpServletResponse</code> objects as their communication channels to the outside world: the request object is the way in and the response object is the connection out.</p>
<p>Besides these objects, there is the <code>HttpSession</code> object supporting “cross-request memory,” and the <code>ServletContext</code> object that you use for application-wide configuration settings. And throughout the app, Plain Old Java Objects (POJOs) serve as data carriers - the glue of the app. Here is a schema of an entire app.</p>
<div class="figure">
<img src="05_web/figures/java_web_app_architecture.png" alt="" />
<p class="caption">Java web app architecture</p>
</div>
<div id="a-view" class="section level3 unnumbered">
<h3>A View</h3>
<p>To create a Thymeleaf template, right-click on folder webapp/templates, select New → html.
(Hint: you can also make your own Thymeleaf template!)</p>
<p>Name it phrase_of_the_day.html and click OK
The file will automatically open in an editor window, with some standard template code already present.</p>
<p>Here is the contents of <code>phrase_of_the_day.html</code></p>
<div class="sourceCode" id="cb232"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb232-1"><a href="implementing-mvc.html#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html SYSTEM &quot;http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd&quot;<span class="dt">&gt;</span></span>
<span id="cb232-2"><a href="implementing-mvc.html#cb232-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span><span class="ot"> xmlns=</span><span class="st">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="ot"> xmlns:th=</span><span class="st">&quot;http://www.thymeleaf.org&quot;</span><span class="kw">&gt;</span></span>
<span id="cb232-3"><a href="implementing-mvc.html#cb232-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb232-4"><a href="implementing-mvc.html#cb232-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span><span class="ot"> http-equiv=</span><span class="st">&quot;Content-Type&quot;</span><span class="ot"> content=</span><span class="st">&quot;text/html; charset=UTF-8&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb232-5"><a href="implementing-mvc.html#cb232-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title</span><span class="ot"> th:text=</span><span class="st">&quot;#{tab.title}&quot;</span><span class="kw">&gt;</span>_offline_<span class="kw">&lt;/title&gt;</span></span>
<span id="cb232-6"><a href="implementing-mvc.html#cb232-6" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb232-7"><a href="implementing-mvc.html#cb232-7" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb232-8"><a href="implementing-mvc.html#cb232-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;h3</span><span class="ot"> th:text=</span><span class="st">&quot;#{page.title}&quot;</span><span class="kw">&gt;</span>Offline title<span class="kw">&lt;/h3&gt;</span></span>
<span id="cb232-9"><a href="implementing-mvc.html#cb232-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;h4</span><span class="ot"> th:text=</span><span class="st">&quot;#{page.subtitle}&quot;</span><span class="kw">&gt;</span>Offline subtitle<span class="kw">&lt;/h4&gt;</span></span>
<span id="cb232-10"><a href="implementing-mvc.html#cb232-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-11"><a href="implementing-mvc.html#cb232-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;form</span><span class="ot"> action=</span><span class="st">&quot;give.phrase&quot;</span><span class="ot"> method=</span><span class="st">&quot;GET&quot;</span><span class="kw">&gt;</span></span>
<span id="cb232-12"><a href="implementing-mvc.html#cb232-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;select</span><span class="ot"> name=</span><span class="st">&quot;phrase_category&quot;</span><span class="kw">&gt;</span></span>
<span id="cb232-13"><a href="implementing-mvc.html#cb232-13" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;option</span><span class="ot"> value=</span><span class="st">&quot;bullshit&quot;</span><span class="kw">&gt;</span>Bullshit<span class="kw">&lt;/option&gt;</span></span>
<span id="cb232-14"><a href="implementing-mvc.html#cb232-14" aria-hidden="true" tabindex="-1"></a>            <span class="kw">&lt;option</span><span class="ot"> value=</span><span class="st">&quot;management&quot;</span><span class="kw">&gt;</span>Management<span class="kw">&lt;/option&gt;</span></span>
<span id="cb232-15"><a href="implementing-mvc.html#cb232-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/select&gt;</span></span>
<span id="cb232-16"><a href="implementing-mvc.html#cb232-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;submit&quot;</span><span class="ot"> th:value=</span><span class="st">&quot;#{get.phrase.btn}&quot;</span><span class="ot"> value=</span><span class="st">&quot;_offline_&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb232-17"><a href="implementing-mvc.html#cb232-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/form&gt;</span></span>
<span id="cb232-18"><a href="implementing-mvc.html#cb232-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-19"><a href="implementing-mvc.html#cb232-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;h4</span><span class="ot"> th:text=</span><span class="st">&quot;#{&#39;phrase.&#39; + ${phrase_num}}&quot;</span><span class="kw">&gt;</span>_phrase placeholder_<span class="kw">&lt;/h4&gt;</span></span>
<span id="cb232-20"><a href="implementing-mvc.html#cb232-20" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb232-21"><a href="implementing-mvc.html#cb232-21" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>Note the text have been moved to a resource bundle.</p>
<p>Within the editor pane, click the icon of the browser you want to view the file in (the browser icons are in the top right corner).
Do not select “Run phrase_of_…” from the context menu because you will get a 404!</p>
<div class="figure">
<img src="05_web/figures/phrase_request_form1.png" alt="" />
<p class="caption">Phrase request form</p>
</div>
<p>You won’t get any texts into the placeholders because (1) there simply aren’t any and (2) you are viewing a static html page, not a view that is processed by the template engine.</p>
<div id="create-resource-bundle" class="section level4 unnumbered">
<h4>Create resource bundle</h4>
<p>The resource should have as base name <code>phrase_of_the_day</code> and should have a default and ‘en’ locale versions.
You also need entries for the used texts, of course</p>
<div class="figure">
<img src="05_web/figures/phrase_of_the_day_resource_bundle.png" alt="" />
<p class="caption">Phrase of the day resource bundle</p>
</div>
</div>
</div>
<div id="a-model" class="section level3 unnumbered">
<h3>A model</h3>
<p>Create a new package called <code>model</code>.
Give it some dummy implementation (we’ll put some real code in there later on).</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb233-1"><a href="implementing-mvc.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> PhraseFactory <span class="op">{</span></span>
<span id="cb233-2"><a href="implementing-mvc.html#cb233-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="bu">String</span> <span class="fu">getPhrase</span><span class="op">(</span><span class="bu">String</span> phraseType<span class="op">)</span> <span class="op">{</span></span>
<span id="cb233-3"><a href="implementing-mvc.html#cb233-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">//we&#39;ll get to this later!</span></span>
<span id="cb233-4"><a href="implementing-mvc.html#cb233-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">//You thought I’d return some text here, didn’t you?</span></span>
<span id="cb233-5"><a href="implementing-mvc.html#cb233-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&quot;1&quot;</span><span class="op">;</span></span>
<span id="cb233-6"><a href="implementing-mvc.html#cb233-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb233-7"><a href="implementing-mvc.html#cb233-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<div id="a-controller" class="section level3 unnumbered">
<h3>A controller</h3>
<p>Create a new Servlet and put the following code in there.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb234-1"><a href="implementing-mvc.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> nl</span><span class="op">.</span><span class="im">bioinf</span><span class="op">.</span><span class="im">wis_on_thymeleaf</span><span class="op">.</span><span class="im">servlets</span><span class="op">;</span></span>
<span id="cb234-2"><a href="implementing-mvc.html#cb234-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-3"><a href="implementing-mvc.html#cb234-3" aria-hidden="true" tabindex="-1"></a><span class="co">//many imports</span></span>
<span id="cb234-4"><a href="implementing-mvc.html#cb234-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-5"><a href="implementing-mvc.html#cb234-5" aria-hidden="true" tabindex="-1"></a><span class="at">@WebServlet</span><span class="op">(</span>name <span class="op">=</span> <span class="st">&quot;PhraseServlet&quot;</span><span class="op">,</span> urlPatterns <span class="op">=</span> <span class="st">&quot;/give.phrase&quot;</span><span class="op">)</span></span>
<span id="cb234-6"><a href="implementing-mvc.html#cb234-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> PhraseServlet <span class="kw">extends</span> HttpServlet <span class="op">{</span></span>
<span id="cb234-7"><a href="implementing-mvc.html#cb234-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> TemplateEngine templateEngine<span class="op">;</span></span>
<span id="cb234-8"><a href="implementing-mvc.html#cb234-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-9"><a href="implementing-mvc.html#cb234-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb234-10"><a href="implementing-mvc.html#cb234-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span><span class="op">()</span> <span class="kw">throws</span> ServletException <span class="op">{</span></span>
<span id="cb234-11"><a href="implementing-mvc.html#cb234-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">templateEngine</span> <span class="op">=</span> WebConfig<span class="op">.</span><span class="fu">getTemplateEngine</span><span class="op">();</span></span>
<span id="cb234-12"><a href="implementing-mvc.html#cb234-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb234-13"><a href="implementing-mvc.html#cb234-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-14"><a href="implementing-mvc.html#cb234-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> <span class="dt">void</span> <span class="fu">doGet</span><span class="op">(</span>HttpServletRequest request<span class="op">,</span> HttpServletResponse response<span class="op">)</span></span>
<span id="cb234-15"><a href="implementing-mvc.html#cb234-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">throws</span> ServletException<span class="op">,</span> <span class="bu">IOException</span> <span class="op">{</span></span>
<span id="cb234-16"><a href="implementing-mvc.html#cb234-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> phraseType <span class="op">=</span> request<span class="op">.</span><span class="fu">getParameter</span><span class="op">(</span><span class="st">&quot;phrase_category&quot;</span><span class="op">);</span></span>
<span id="cb234-17"><a href="implementing-mvc.html#cb234-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Locale</span> locale <span class="op">=</span> request<span class="op">.</span><span class="fu">getLocale</span><span class="op">();</span></span>
<span id="cb234-18"><a href="implementing-mvc.html#cb234-18" aria-hidden="true" tabindex="-1"></a>        WebContext ctx <span class="op">=</span> <span class="kw">new</span> <span class="fu">WebContext</span><span class="op">(</span></span>
<span id="cb234-19"><a href="implementing-mvc.html#cb234-19" aria-hidden="true" tabindex="-1"></a>                request<span class="op">,</span></span>
<span id="cb234-20"><a href="implementing-mvc.html#cb234-20" aria-hidden="true" tabindex="-1"></a>                response<span class="op">,</span></span>
<span id="cb234-21"><a href="implementing-mvc.html#cb234-21" aria-hidden="true" tabindex="-1"></a>                request<span class="op">.</span><span class="fu">getServletContext</span><span class="op">(),</span></span>
<span id="cb234-22"><a href="implementing-mvc.html#cb234-22" aria-hidden="true" tabindex="-1"></a>                locale<span class="op">);</span></span>
<span id="cb234-23"><a href="implementing-mvc.html#cb234-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>phraseType <span class="op">!=</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb234-24"><a href="implementing-mvc.html#cb234-24" aria-hidden="true" tabindex="-1"></a>            <span class="dt">final</span> <span class="bu">String</span> phrase <span class="op">=</span> PhraseFactory<span class="op">.</span><span class="fu">getPhrase</span><span class="op">(</span>phraseType<span class="op">);</span></span>
<span id="cb234-25"><a href="implementing-mvc.html#cb234-25" aria-hidden="true" tabindex="-1"></a>            ctx<span class="op">.</span><span class="fu">setVariable</span><span class="op">(</span><span class="st">&quot;phrase_type&quot;</span><span class="op">,</span> phraseType<span class="op">);</span></span>
<span id="cb234-26"><a href="implementing-mvc.html#cb234-26" aria-hidden="true" tabindex="-1"></a>            ctx<span class="op">.</span><span class="fu">setVariable</span><span class="op">(</span><span class="st">&quot;phrase_num&quot;</span><span class="op">,</span> phrase<span class="op">);</span></span>
<span id="cb234-27"><a href="implementing-mvc.html#cb234-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb234-28"><a href="implementing-mvc.html#cb234-28" aria-hidden="true" tabindex="-1"></a>            ctx<span class="op">.</span><span class="fu">setVariable</span><span class="op">(</span><span class="st">&quot;phrase_type&quot;</span><span class="op">,</span> <span class="st">&quot;none&quot;</span><span class="op">);</span></span>
<span id="cb234-29"><a href="implementing-mvc.html#cb234-29" aria-hidden="true" tabindex="-1"></a>            ctx<span class="op">.</span><span class="fu">setVariable</span><span class="op">(</span><span class="st">&quot;phrase_num&quot;</span><span class="op">,</span> <span class="st">&quot;0&quot;</span><span class="op">);</span></span>
<span id="cb234-30"><a href="implementing-mvc.html#cb234-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb234-31"><a href="implementing-mvc.html#cb234-31" aria-hidden="true" tabindex="-1"></a>        templateEngine<span class="op">.</span><span class="fu">process</span><span class="op">(</span><span class="st">&quot;phrase_of_the_day&quot;</span><span class="op">,</span> ctx<span class="op">,</span> response<span class="op">.</span><span class="fu">getWriter</span><span class="op">());</span></span>
<span id="cb234-32"><a href="implementing-mvc.html#cb234-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb234-33"><a href="implementing-mvc.html#cb234-33" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>The controller receives request parameters from the submitted form using <code>String requestParameter = request.getParameter("&lt;parameter_name&gt;");</code>. On the output side, it passed data to the Thymeleaf template using <code>ctx.setVariable("&lt;variable_name&gt;", &lt;variable&gt;);</code>. It is not responsible for any application logic; for that it calls on the model class <code>PhraseFactory</code>. The controller does not involve itself with the view either; it simply passes the data it received from the model to the View component, the Thymeleaf template <code>phrase_of_the_day.html</code>.</p>
</div>
<div id="test" class="section level3 unnumbered">
<h3>Test!</h3>
<p>Create a new run configuration called “phrase” and point it to give.phrase.</p>
<p>Test the result; try the form submit; change your language; refresh</p>
<div class="figure">
<img src="05_web/figures/phrase_request_form2_en.png" alt="" />
<p class="caption">Phrase request form 2</p>
</div>
<div class="figure">
<img src="05_web/figures/phrase_request_form3_nl.png" alt="" />
<p class="caption">Phrase request form 3</p>
</div>
</div>
<div id="extend-the-model" class="section level3 unnumbered">
<h3>Extend the model</h3>
<p>Implement some nice behavior in <code>PhraseFactory.java</code>.
First the Junit5 test and only then the implementation: this is called Test-Driven Development (TDD).</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb235-1"><a href="implementing-mvc.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PhraseFactoryTest <span class="op">{</span></span>
<span id="cb235-2"><a href="implementing-mvc.html#cb235-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Test</span></span>
<span id="cb235-3"><a href="implementing-mvc.html#cb235-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> <span class="fu">getPhrase</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb235-4"><a href="implementing-mvc.html#cb235-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span><span class="dv">50</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb235-5"><a href="implementing-mvc.html#cb235-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> random <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">parseInt</span><span class="op">(</span>PhraseFactory<span class="op">.</span><span class="fu">getPhrase</span><span class="op">(</span><span class="st">&quot;bullshit&quot;</span><span class="op">));</span></span>
<span id="cb235-6"><a href="implementing-mvc.html#cb235-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">assertTrue</span><span class="op">(</span>random <span class="op">&gt;=</span> <span class="dv">1</span> <span class="op">&amp;&amp;</span> random <span class="op">&lt;=</span> PhraseFactory<span class="op">.</span><span class="fu">MAX_PHRASE_COUNT</span><span class="op">);</span></span>
<span id="cb235-7"><a href="implementing-mvc.html#cb235-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb235-8"><a href="implementing-mvc.html#cb235-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span><span class="dv">50</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb235-9"><a href="implementing-mvc.html#cb235-9" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> random <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">parseInt</span><span class="op">(</span>PhraseFactory<span class="op">.</span><span class="fu">getPhrase</span><span class="op">(</span><span class="st">&quot;management&quot;</span><span class="op">));</span></span>
<span id="cb235-10"><a href="implementing-mvc.html#cb235-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">assertTrue</span><span class="op">(</span>random <span class="op">&gt;=</span> <span class="dv">1</span> <span class="op">&amp;&amp;</span> random <span class="op">&lt;=</span> PhraseFactory<span class="op">.</span><span class="fu">MAX_PHRASE_COUNT</span><span class="op">);</span></span>
<span id="cb235-11"><a href="implementing-mvc.html#cb235-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb235-12"><a href="implementing-mvc.html#cb235-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb235-13"><a href="implementing-mvc.html#cb235-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>The implementation.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb236-1"><a href="implementing-mvc.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> PhraseFactory <span class="op">{</span></span>
<span id="cb236-2"><a href="implementing-mvc.html#cb236-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> MAX_PHRASE_COUNT <span class="op">=</span> <span class="dv">4</span><span class="op">;</span></span>
<span id="cb236-3"><a href="implementing-mvc.html#cb236-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="bu">String</span> <span class="fu">getPhrase</span><span class="op">(</span><span class="bu">String</span> phraseType<span class="op">)</span> <span class="op">{</span></span>
<span id="cb236-4"><a href="implementing-mvc.html#cb236-4" aria-hidden="true" tabindex="-1"></a>        <span class="co">//I only have 4 phrases of each category</span></span>
<span id="cb236-5"><a href="implementing-mvc.html#cb236-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Random</span> rand <span class="op">=</span> <span class="kw">new</span> <span class="bu">Random</span><span class="op">();</span></span>
<span id="cb236-6"><a href="implementing-mvc.html#cb236-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> phraseIndex <span class="op">=</span> rand<span class="op">.</span><span class="fu">nextInt</span><span class="op">(</span>MAX_PHRASE_COUNT<span class="op">)</span> <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb236-7"><a href="implementing-mvc.html#cb236-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">toString</span><span class="op">(</span>phraseIndex<span class="op">);</span></span>
<span id="cb236-8"><a href="implementing-mvc.html#cb236-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb236-9"><a href="implementing-mvc.html#cb236-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Now fetch the phrases a little bit sophisticated. Here is the relevant part of the Thymeleaf template.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb237-1"><a href="implementing-mvc.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;h4</span><span class="ot"> th:text=</span><span class="st">&quot;#{&#39;phrase.&#39; + ${phrase_type} + &#39;.&#39; + ${phrase_num}}&quot;</span><span class="kw">&gt;</span>_phrase placeholder_<span class="kw">&lt;/h4&gt;</span></span></code></pre></div>
<p>This snippet is building a reference to a randomly chosen phrase from the requested category.</p>
<p>In the resource bundle, the phrases are stored in two languages.</p>
<div class="figure">
<img src="05_web/figures/phrase_of_the_day_resource_bundle2.png" alt="" />
<p class="caption">Phrase of the day resource bundle 2</p>
</div>
</div>
<div id="mvc-complete" class="section level3 unnumbered">
<h3>MVC complete</h3>
<p>Thats it; you have seen the MVC pattern in action. There is a dedicated model class that knows how to provide a random choice for messages.
The Servlet controller invokes the model (PhraseFactory) and dispatches its output to the view.
The Thymeleaf template handles the view, processed by the template engine that is also responsible for injecting the text messages from the resource bundle, in the correct language.</p>
<p>Thymeleaf has several techniques to deal with dynamic content generated by the model; this is the subject of the next post.</p>
<div class="figure">
<img src="05_web/figures/mvc_pattern2s.png" alt="" />
<p class="caption">MVC pattern (extended)</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="a-first-project-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="thymeleaf-expressions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["The Java Track.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
