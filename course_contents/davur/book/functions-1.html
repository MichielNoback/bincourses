<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Functions | Data Analysis &amp; Visualization using R (1)</title>
  <meta name="description" content="This gitbook accompanies the course Data Analysis &amp; Visualization using R 1 (DAVuR1) of the minor Bioinformatics for Life Science Students. It is organized by the Hanze University of Applied Science." />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Functions | Data Analysis &amp; Visualization using R (1)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This gitbook accompanies the course Data Analysis &amp; Visualization using R 1 (DAVuR1) of the minor Bioinformatics for Life Science Students. It is organized by the Hanze University of Applied Science." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Functions | Data Analysis &amp; Visualization using R (1)" />
  
  <meta name="twitter:description" content="This gitbook accompanies the course Data Analysis &amp; Visualization using R 1 (DAVuR1) of the minor Bioinformatics for Life Science Students. It is organized by the Hanze University of Applied Science." />
  

<meta name="author" content="Michiel Noback" />


<meta name="date" content="2020-04-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="complex-datatypes-and-file-reading.html">
<link rel="next" href="scripting.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DAVuR eBook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Getting started</a></li>
<li class="chapter" data-level="2" data-path="toolbox.html"><a href="toolbox.html"><i class="fa fa-check"></i><b>2</b> The toolbox</a><ul>
<li class="chapter" data-level="2.1" data-path="toolbox.html"><a href="toolbox.html#embarking-on-data-science"><i class="fa fa-check"></i><b>2.1</b> Embarking on Data Science</a></li>
<li class="chapter" data-level="2.2" data-path="toolbox.html"><a href="toolbox.html#why-do-statistical-programming"><i class="fa fa-check"></i><b>2.2</b> Why do statistical programming?</a><ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#overview-of-the-toolbox"><i class="fa fa-check"></i>Overview of the toolbox</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="toolbox.html"><a href="toolbox.html#tool-1-the-r-programming-language"><i class="fa fa-check"></i><b>2.3</b> Tool 1: The R programming language</a></li>
<li class="chapter" data-level="2.4" data-path="toolbox.html"><a href="toolbox.html#tool-2-rstudio-as-development-environment"><i class="fa fa-check"></i><b>2.4</b> Tool 2: RStudio as development environment</a></li>
<li class="chapter" data-level="2.5" data-path="toolbox.html"><a href="toolbox.html#tool-3-r-markdown"><i class="fa fa-check"></i><b>2.5</b> Tool 3: R Markdown</a></li>
<li class="chapter" data-level="2.6" data-path="toolbox.html"><a href="toolbox.html#resources"><i class="fa fa-check"></i><b>2.6</b> Resources</a><ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#swirl-course"><i class="fa fa-check"></i>Swirl course</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#data-files"><i class="fa fa-check"></i>Data Files</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#web-resources-and-references"><i class="fa fa-check"></i>Web resources and references</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-r-coding.html"><a href="basic-r-coding.html"><i class="fa fa-check"></i><b>3</b> Basic R - coding</a><ul>
<li class="chapter" data-level="3.1" data-path="basic-r-coding.html"><a href="basic-r-coding.html#first-look-at-vectors-fuctions-and-variables"><i class="fa fa-check"></i><b>3.1</b> First look at vectors, fuctions and variables</a><ul>
<li class="chapter" data-level="3.1.1" data-path="basic-r-coding.html"><a href="basic-r-coding.html#doing-math-in-the-console"><i class="fa fa-check"></i><b>3.1.1</b> Doing Math in the console</a></li>
<li class="chapter" data-level="3.1.2" data-path="basic-r-coding.html"><a href="basic-r-coding.html#an-expression-dissected"><i class="fa fa-check"></i><b>3.1.2</b> An expression dissected</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="basic-r-coding.html"><a href="basic-r-coding.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="basic-r-coding.html"><a href="basic-r-coding.html#getting-help-on-a-function"><i class="fa fa-check"></i><b>3.2.1</b> Getting help on a function</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="basic-r-coding.html"><a href="basic-r-coding.html#variables"><i class="fa fa-check"></i><b>3.3</b> Variables</a></li>
<li class="chapter" data-level="3.4" data-path="basic-r-coding.html"><a href="basic-r-coding.html#vectors"><i class="fa fa-check"></i><b>3.4</b> Vectors</a><ul>
<li class="chapter" data-level="3.4.1" data-path="basic-r-coding.html"><a href="basic-r-coding.html#r-is-completely-vector-based"><i class="fa fa-check"></i><b>3.4.1</b> R is completely vector-based</a></li>
<li class="chapter" data-level="3.4.2" data-path="basic-r-coding.html"><a href="basic-r-coding.html#five-datatype-that-live-in-vectors"><i class="fa fa-check"></i><b>3.4.2</b> Five datatype that live in vectors</a></li>
<li class="chapter" data-level="3.4.3" data-path="basic-r-coding.html"><a href="basic-r-coding.html#creating-vectors"><i class="fa fa-check"></i><b>3.4.3</b> Creating vectors</a></li>
<li class="chapter" data-level="3.4.4" data-path="basic-r-coding.html"><a href="basic-r-coding.html#vector-fiddling"><i class="fa fa-check"></i><b>3.4.4</b> Vector fiddling</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="basic-r-coding.html"><a href="basic-r-coding.html#other-operators"><i class="fa fa-check"></i><b>3.5</b> Other operators</a><ul>
<li class="chapter" data-level="3.5.1" data-path="basic-r-coding.html"><a href="basic-r-coding.html#logical-operators"><i class="fa fa-check"></i><b>3.5.1</b> Logical operators</a></li>
<li class="chapter" data-level="3.5.2" data-path="basic-r-coding.html"><a href="basic-r-coding.html#modulo"><i class="fa fa-check"></i><b>3.5.2</b> Modulo: <code>%%</code></a></li>
<li class="chapter" data-level="3.5.3" data-path="basic-r-coding.html"><a href="basic-r-coding.html#integer-division-and-rounding"><i class="fa fa-check"></i><b>3.5.3</b> Integer division <code>%/%</code> and rounding</a></li>
<li class="chapter" data-level="3.5.4" data-path="basic-r-coding.html"><a href="basic-r-coding.html#the-in-operator"><i class="fa fa-check"></i><b>3.5.4</b> The <code>%in%</code> operator</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="basic-r-coding.html"><a href="basic-r-coding.html#vector-creation-methods"><i class="fa fa-check"></i><b>3.6</b> Vector creation methods</a></li>
<li class="chapter" data-level="3.7" data-path="basic-r-coding.html"><a href="basic-r-coding.html#selecting-vector-elements"><i class="fa fa-check"></i><b>3.7</b> Selecting vector elements</a></li>
<li class="chapter" data-level="3.8" data-path="basic-r-coding.html"><a href="basic-r-coding.html#some-coding-style-rules-rules-for-writing-code"><i class="fa fa-check"></i><b>3.8</b> Some coding style rules rules for writing code</a></li>
<li class="chapter" data-level="3.9" data-path="basic-r-coding.html"><a href="basic-r-coding.html#the-best-keyboard-shortcuts-for-rstudio"><i class="fa fa-check"></i><b>3.9</b> The best keyboard shortcuts for RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html"><i class="fa fa-check"></i><b>4</b> Basic R - plotting</a><ul>
<li class="chapter" data-level="4.1" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#basic-embedded-plot-types"><i class="fa fa-check"></i><b>4.1</b> Basic embedded plot types</a><ul>
<li class="chapter" data-level="4.1.1" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#scatter-and-line-plots"><i class="fa fa-check"></i><b>4.1.1</b> Scatter and line plots</a></li>
<li class="chapter" data-level="4.1.2" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#barplots"><i class="fa fa-check"></i><b>4.1.2</b> Barplots</a></li>
<li class="chapter" data-level="4.1.3" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#histograms"><i class="fa fa-check"></i><b>4.1.3</b> Histograms</a></li>
<li class="chapter" data-level="4.1.4" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#density-plot-as-alternative-to-hist"><i class="fa fa-check"></i><b>4.1.4</b> Density plot as alternative to <code>hist()</code></a></li>
<li class="chapter" data-level="4.1.5" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#boxplots"><i class="fa fa-check"></i><b>4.1.5</b> Boxplots</a></li>
<li class="chapter" data-level="4.1.6" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#adding-more-data-and-a-legend"><i class="fa fa-check"></i><b>4.1.6</b> Adding more data and a legend</a></li>
<li class="chapter" data-level="4.1.7" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#helper-lines-and-lm"><i class="fa fa-check"></i><b>4.1.7</b> Helper lines and <code>lm()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="basic-r-plotting.html"><a href="basic-r-plotting.html#graphical-parameters-to-plot"><i class="fa fa-check"></i><b>4.2</b> Graphical parameters to <code>plot()</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html"><i class="fa fa-check"></i><b>5</b> Complex Datatypes and File Reading</a><ul>
<li class="chapter" data-level="5.1" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html#matrices-are-vectors-with-dimensions"><i class="fa fa-check"></i><b>5.1</b> Matrices are vectors with dimensions</a></li>
<li class="chapter" data-level="5.2" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html#factors-nominal-ordinal-scales"><i class="fa fa-check"></i><b>5.2</b> Factors: Nominal &amp; Ordinal scales</a></li>
<li class="chapter" data-level="5.3" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html#lists"><i class="fa fa-check"></i><b>5.3</b> Lists</a></li>
<li class="chapter" data-level="5.4" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html#dataframes"><i class="fa fa-check"></i><b>5.4</b> Dataframes</a><ul>
<li class="chapter" data-level="5.4.1" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html#selections-on-dataframes"><i class="fa fa-check"></i><b>5.4.1</b> Selections on dataframes</a></li>
<li class="chapter" data-level="5.4.2" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html#read-from-file-using-read.table"><i class="fa fa-check"></i><b>5.4.2</b> Read from file using <code>read.table()</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="complex-datatypes-and-file-reading.html"><a href="complex-datatypes-and-file-reading.html#dataframe-manipulations"><i class="fa fa-check"></i><b>5.4.3</b> Dataframe manipulations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions-1.html"><a href="functions-1.html"><i class="fa fa-check"></i><b>6</b> Functions</a><ul>
<li class="chapter" data-level="6.1" data-path="functions-1.html"><a href="functions-1.html#dealing-with-nas"><i class="fa fa-check"></i><b>6.1</b> Dealing with NAs</a></li>
<li class="chapter" data-level="6.2" data-path="functions-1.html"><a href="functions-1.html#descriptive-statistics"><i class="fa fa-check"></i><b>6.2</b> Descriptive statistics</a></li>
<li class="chapter" data-level="6.3" data-path="functions-1.html"><a href="functions-1.html#general-purpose-functions"><i class="fa fa-check"></i><b>6.3</b> General purpose functions</a></li>
<li class="chapter" data-level="6.4" data-path="functions-1.html"><a href="functions-1.html#convert-numeric-vector-to-factor-cut"><i class="fa fa-check"></i><b>6.4</b> Convert numeric vector to factor: <code>cut()</code></a></li>
<li class="chapter" data-level="6.5" data-path="functions-1.html"><a href="functions-1.html#file-io-revisited"><i class="fa fa-check"></i><b>6.5</b> File I/O revisited</a></li>
<li class="chapter" data-level="6.6" data-path="functions-1.html"><a href="functions-1.html#pattern-matching"><i class="fa fa-check"></i><b>6.6</b> Pattern matching</a><ul>
<li class="chapter" data-level="6.6.1" data-path="functions-1.html"><a href="functions-1.html#regex-syntax"><i class="fa fa-check"></i><b>6.6.1</b> Regex syntax</a></li>
<li class="chapter" data-level="6.6.2" data-path="functions-1.html"><a href="functions-1.html#quantifiers"><i class="fa fa-check"></i><b>6.6.2</b> Quantifiers</a></li>
<li class="chapter" data-level="6.6.3" data-path="functions-1.html"><a href="functions-1.html#some-examples"><i class="fa fa-check"></i><b>6.6.3</b> Some examples</a></li>
<li class="chapter" data-level="6.6.4" data-path="functions-1.html"><a href="functions-1.html#anchoring"><i class="fa fa-check"></i><b>6.6.4</b> Anchoring</a></li>
<li class="chapter" data-level="6.6.5" data-path="functions-1.html"><a href="functions-1.html#metacharacters-special-character-classes"><i class="fa fa-check"></i><b>6.6.5</b> Metacharacters: Special character classes</a></li>
<li class="chapter" data-level="6.6.6" data-path="functions-1.html"><a href="functions-1.html#locating-and-extracting"><i class="fa fa-check"></i><b>6.6.6</b> Locating and Extracting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="scripting.html"><a href="scripting.html"><i class="fa fa-check"></i><b>7</b> Scripting</a><ul>
<li class="chapter" data-level="7.1" data-path="scripting.html"><a href="scripting.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="scripting.html"><a href="scripting.html#flow-control"><i class="fa fa-check"></i><b>7.2</b> Flow control</a><ul>
<li class="chapter" data-level="7.2.1" data-path="scripting.html"><a href="scripting.html#conditional-execution-with-ifelse"><i class="fa fa-check"></i><b>7.2.1</b> Conditional execution with <code>if/else</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="scripting.html"><a href="scripting.html#iteration-with-for"><i class="fa fa-check"></i><b>7.2.2</b> Iteration with <code>for(){}</code></a></li>
<li class="chapter" data-level="7.2.3" data-path="scripting.html"><a href="scripting.html#conditional-iteration-with-while"><i class="fa fa-check"></i><b>7.2.3</b> Conditional iteration with <code>while(){}</code></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="scripting.html"><a href="scripting.html#creating-functions"><i class="fa fa-check"></i><b>7.3</b> Creating functions</a><ul>
<li class="chapter" data-level="7.3.1" data-path="scripting.html"><a href="scripting.html#errors-and-warnings"><i class="fa fa-check"></i><b>7.3.1</b> Errors and warnings</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="scripting.html"><a href="scripting.html#scripting-1"><i class="fa fa-check"></i><b>7.4</b> Scripting</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html"><i class="fa fa-check"></i><b>8</b> Dataframe manipulations</a><ul>
<li class="chapter" data-level="8.1" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#the-apply-family-of-functions"><i class="fa fa-check"></i><b>8.1</b> The <code>apply()</code> family of functions</a><ul>
<li class="chapter" data-level="8.1.1" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#apply-apply-functions-over-array-margins"><i class="fa fa-check"></i><b>8.1.1</b> <code>apply()</code>: Apply Functions Over Array Margins</a></li>
<li class="chapter" data-level="8.1.2" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#lapply-apply-a-function-over-a-list-or-vector"><i class="fa fa-check"></i><b>8.1.2</b> <code>lapply()</code>: Apply a Function over a List or Vector</a></li>
<li class="chapter" data-level="8.1.3" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#sapply-apply-a-function-over-a-list-or-vector-and-simplify"><i class="fa fa-check"></i><b>8.1.3</b> <code>sapply()</code>: Apply a Function over a List or Vector and Simplify</a></li>
<li class="chapter" data-level="8.1.4" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#tapply-apply-a-function-over-a-ragged-array"><i class="fa fa-check"></i><b>8.1.4</b> <code>tapply()</code>: Apply a Function Over a Ragged Array</a></li>
<li class="chapter" data-level="8.1.5" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#split-divide-into-groups-and-reassemble"><i class="fa fa-check"></i><b>8.1.5</b> <code>split()</code>: Divide into Groups and Reassemble</a></li>
<li class="chapter" data-level="8.1.6" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#aggregate-compute-summary-statistics-of-data-subsets"><i class="fa fa-check"></i><b>8.1.6</b> <code>aggregate()</code>: Compute Summary Statistics of Data Subsets</a></li>
<li class="chapter" data-level="8.1.7" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#many-roads-lead-to-rome"><i class="fa fa-check"></i><b>8.1.7</b> Many roads lead to Rome</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#usecases"><i class="fa fa-check"></i><b>8.2</b> Example Use Cases</a><ul>
<li class="chapter" data-level="8.2.1" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#dfselection"><i class="fa fa-check"></i><b>8.2.1</b> Dataframe Selections</a></li>
<li class="chapter" data-level="8.2.2" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#apply"><i class="fa fa-check"></i><b>8.2.2</b> Apply</a></li>
<li class="chapter" data-level="8.2.3" data-path="dataframe-manipulations-1.html"><a href="dataframe-manipulations-1.html#embeddeddf"><i class="fa fa-check"></i><b>8.2.3</b> Processing Embedded Dataframes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>9</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="9.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#eda-of-the-yeast-dataset"><i class="fa fa-check"></i><b>9.2</b> EDA of the Yeast dataset</a><ul>
<li class="chapter" data-level="9.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-2"><i class="fa fa-check"></i><b>9.2.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#data-loading-and-prepping"><i class="fa fa-check"></i><b>9.2.2</b> Data loading and prepping</a></li>
<li class="chapter" data-level="9.2.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#data-verification"><i class="fa fa-check"></i><b>9.2.3</b> Data verification</a></li>
<li class="chapter" data-level="9.2.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#attribute-summaries"><i class="fa fa-check"></i><b>9.2.4</b> Attribute summaries</a></li>
<li class="chapter" data-level="9.2.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#attribute-relationships"><i class="fa fa-check"></i><b>9.2.5</b> Attribute relationships</a></li>
<li class="chapter" data-level="9.2.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#correlations-to-the-dependent-variable"><i class="fa fa-check"></i><b>9.2.6</b> Correlations to the dependent variable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>10</b> Exercises</a><ul>
<li class="chapter" data-level="10.1" data-path="exercises.html"><a href="exercises.html#toolbox-1"><i class="fa fa-check"></i><b>10.1</b> Toolbox</a><ul>
<li class="chapter" data-level="10.1.1" data-path="exercises.html"><a href="exercises.html#get-set-up"><i class="fa fa-check"></i><b>10.1.1</b> Get set up</a></li>
<li class="chapter" data-level="10.1.2" data-path="exercises.html"><a href="exercises.html#resume"><i class="fa fa-check"></i><b>10.1.2</b> Résumé</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="exercises.html"><a href="exercises.html#basic-r"><i class="fa fa-check"></i><b>10.2</b> Basic R</a><ul>
<li class="chapter" data-level="10.2.1" data-path="exercises.html"><a href="exercises.html#math-in-the-console"><i class="fa fa-check"></i><b>10.2.1</b> Math in the console</a></li>
<li class="chapter" data-level="10.2.2" data-path="exercises.html"><a href="exercises.html#first-look-at-functions"><i class="fa fa-check"></i><b>10.2.2</b> First look at functions</a></li>
<li class="chapter" data-level="10.2.3" data-path="exercises.html"><a href="exercises.html#variables-1"><i class="fa fa-check"></i><b>10.2.3</b> Variables</a></li>
<li class="chapter" data-level="10.2.4" data-path="exercises.html"><a href="exercises.html#vectors-1"><i class="fa fa-check"></i><b>10.2.4</b> Vectors</a></li>
<li class="chapter" data-level="10.2.5" data-path="exercises.html"><a href="exercises.html#stair-walking-and-heart-rate"><i class="fa fa-check"></i><b>10.2.5</b> Stair walking and heart rate</a></li>
<li class="chapter" data-level="10.2.6" data-path="exercises.html"><a href="exercises.html#more-subjects"><i class="fa fa-check"></i><b>10.2.6</b> More subjects</a></li>
<li class="chapter" data-level="10.2.7" data-path="exercises.html"><a href="exercises.html#chickens-on-a-diet"><i class="fa fa-check"></i><b>10.2.7</b> Chickens on a diet</a></li>
<li class="chapter" data-level="10.2.8" data-path="exercises.html"><a href="exercises.html#chicken-bar-plot"><i class="fa fa-check"></i><b>10.2.8</b> Chicken bar plot</a></li>
<li class="chapter" data-level="10.2.9" data-path="exercises.html"><a href="exercises.html#discoveries"><i class="fa fa-check"></i><b>10.2.9</b> Discoveries</a></li>
<li class="chapter" data-level="10.2.10" data-path="exercises.html"><a href="exercises.html#lung-cancer"><i class="fa fa-check"></i><b>10.2.10</b> Lung cancer</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="exercises.html"><a href="exercises.html#complex-datatypes"><i class="fa fa-check"></i><b>10.3</b> Complex datatypes</a><ul>
<li class="chapter" data-level="10.3.1" data-path="exercises.html"><a href="exercises.html#creating-factors"><i class="fa fa-check"></i><b>10.3.1</b> Creating factors</a></li>
<li class="chapter" data-level="10.3.2" data-path="exercises.html"><a href="exercises.html#a-dictionary-with-a-named-vector"><i class="fa fa-check"></i><b>10.3.2</b> A dictionary with a named vector</a></li>
<li class="chapter" data-level="10.3.3" data-path="exercises.html"><a href="exercises.html#airquality"><i class="fa fa-check"></i><b>10.3.3</b> Airquality</a></li>
<li class="chapter" data-level="10.3.4" data-path="exercises.html"><a href="exercises.html#bird-observations"><i class="fa fa-check"></i><b>10.3.4</b> Bird observations</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="exercises.html"><a href="exercises.html#regular-expressions"><i class="fa fa-check"></i><b>10.4</b> Regular Expressions</a><ul>
<li class="chapter" data-level="10.4.1" data-path="exercises.html"><a href="exercises.html#restriction-enzymes-1"><i class="fa fa-check"></i><b>10.4.1</b> Restriction enzymes</a></li>
<li class="chapter" data-level="10.4.2" data-path="exercises.html"><a href="exercises.html#prosite-patterns-1"><i class="fa fa-check"></i><b>10.4.2</b> Prosite Patterns</a></li>
<li class="chapter" data-level="10.4.3" data-path="exercises.html"><a href="exercises.html#fasta-headers"><i class="fa fa-check"></i><b>10.4.3</b> Fasta Headers</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="exercises.html"><a href="exercises.html#scripting-2"><i class="fa fa-check"></i><b>10.5</b> Scripting</a><ul>
<li class="chapter" data-level="10.5.1" data-path="exercises.html"><a href="exercises.html#illegal-reproductions"><i class="fa fa-check"></i><b>10.5.1</b> Illegal reproductions</a></li>
<li class="chapter" data-level="10.5.2" data-path="exercises.html"><a href="exercises.html#interquantile-ranges"><i class="fa fa-check"></i><b>10.5.2</b> Interquantile ranges</a></li>
<li class="chapter" data-level="10.5.3" data-path="exercises.html"><a href="exercises.html#vector-distance"><i class="fa fa-check"></i><b>10.5.3</b> Vector distance</a></li>
<li class="chapter" data-level="10.5.4" data-path="exercises.html"><a href="exercises.html#gc-percentage-of-dna"><i class="fa fa-check"></i><b>10.5.4</b> G/C percentage of DNA</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="exercises.html"><a href="exercises.html#function-apply-and-its-relatives"><i class="fa fa-check"></i><b>10.6</b> Function <code>apply</code> and its relatives</a><ul>
<li class="chapter" data-level="10.6.1" data-path="exercises.html"><a href="exercises.html#whale-selenium"><i class="fa fa-check"></i><b>10.6.1</b> Whale selenium</a></li>
<li class="chapter" data-level="10.6.2" data-path="exercises.html"><a href="exercises.html#chickweight"><i class="fa fa-check"></i><b>10.6.2</b> ChickWeight</a></li>
<li class="chapter" data-level="10.6.3" data-path="exercises.html"><a href="exercises.html#food-constituents"><i class="fa fa-check"></i><b>10.6.3</b> Food constituents</a></li>
<li class="chapter" data-level="10.6.4" data-path="exercises.html"><a href="exercises.html#urine-properties"><i class="fa fa-check"></i><b>10.6.4</b> Urine properties</a></li>
<li class="chapter" data-level="10.6.5" data-path="exercises.html"><a href="exercises.html#bird-observations-revisited"><i class="fa fa-check"></i><b>10.6.5</b> Bird observations revisited</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="exercise-solutions.html"><a href="exercise-solutions.html"><i class="fa fa-check"></i><b>11</b> Exercise solutions</a><ul>
<li class="chapter" data-level="11.1" data-path="exercise-solutions.html"><a href="exercise-solutions.html#toolbox-2"><i class="fa fa-check"></i><b>11.1</b> Toolbox</a><ul>
<li class="chapter" data-level="11.1.1" data-path="exercise-solutions.html"><a href="exercise-solutions.html#get-set-up-1"><i class="fa fa-check"></i><b>11.1.1</b> Get set up</a></li>
<li class="chapter" data-level="11.1.2" data-path="exercise-solutions.html"><a href="exercise-solutions.html#resume-1"><i class="fa fa-check"></i><b>11.1.2</b> Résumé</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="exercise-solutions.html"><a href="exercise-solutions.html#basic-r-1"><i class="fa fa-check"></i><b>11.2</b> Basic R</a><ul>
<li class="chapter" data-level="11.2.1" data-path="exercise-solutions.html"><a href="exercise-solutions.html#math-in-the-console-1"><i class="fa fa-check"></i><b>11.2.1</b> Math in the console</a></li>
<li class="chapter" data-level="11.2.2" data-path="exercise-solutions.html"><a href="exercise-solutions.html#first-look-at-functions-1"><i class="fa fa-check"></i><b>11.2.2</b> First look at functions</a></li>
<li class="chapter" data-level="11.2.3" data-path="exercise-solutions.html"><a href="exercise-solutions.html#variables-2"><i class="fa fa-check"></i><b>11.2.3</b> Variables</a></li>
<li class="chapter" data-level="11.2.4" data-path="exercise-solutions.html"><a href="exercise-solutions.html#vectors-2"><i class="fa fa-check"></i><b>11.2.4</b> Vectors</a></li>
<li class="chapter" data-level="11.2.5" data-path="exercise-solutions.html"><a href="exercise-solutions.html#stair-walking-and-heart-rate-1"><i class="fa fa-check"></i><b>11.2.5</b> Stair walking and heart rate</a></li>
<li class="chapter" data-level="11.2.6" data-path="exercise-solutions.html"><a href="exercise-solutions.html#more-subjects-1"><i class="fa fa-check"></i><b>11.2.6</b> More subjects</a></li>
<li class="chapter" data-level="11.2.7" data-path="exercise-solutions.html"><a href="exercise-solutions.html#chickens-on-a-diet-1"><i class="fa fa-check"></i><b>11.2.7</b> Chickens on a diet</a></li>
<li class="chapter" data-level="11.2.8" data-path="exercise-solutions.html"><a href="exercise-solutions.html#chicken-bar-plot-1"><i class="fa fa-check"></i><b>11.2.8</b> Chicken bar plot</a></li>
<li class="chapter" data-level="11.2.9" data-path="exercise-solutions.html"><a href="exercise-solutions.html#discoveries-1"><i class="fa fa-check"></i><b>11.2.9</b> Discoveries</a></li>
<li class="chapter" data-level="11.2.10" data-path="exercise-solutions.html"><a href="exercise-solutions.html#lung-cancer-1"><i class="fa fa-check"></i><b>11.2.10</b> Lung cancer</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="exercise-solutions.html"><a href="exercise-solutions.html#complex-datatypes-1"><i class="fa fa-check"></i><b>11.3</b> Complex datatypes</a><ul>
<li class="chapter" data-level="11.3.1" data-path="exercise-solutions.html"><a href="exercise-solutions.html#creating-factors-1"><i class="fa fa-check"></i><b>11.3.1</b> Creating factors</a></li>
<li class="chapter" data-level="11.3.2" data-path="exercise-solutions.html"><a href="exercise-solutions.html#a-dictionary-with-a-named-vector-1"><i class="fa fa-check"></i><b>11.3.2</b> A dictionary with a named vector</a></li>
<li class="chapter" data-level="11.3.3" data-path="exercise-solutions.html"><a href="exercise-solutions.html#airquality-1"><i class="fa fa-check"></i><b>11.3.3</b> Airquality</a></li>
<li class="chapter" data-level="11.3.4" data-path="exercise-solutions.html"><a href="exercise-solutions.html#bird-observations-1"><i class="fa fa-check"></i><b>11.3.4</b> Bird observations</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="exercise-solutions.html"><a href="exercise-solutions.html#regular-expressions-1"><i class="fa fa-check"></i><b>11.4</b> Regular Expressions</a><ul>
<li class="chapter" data-level="11.4.1" data-path="exercise-solutions.html"><a href="exercise-solutions.html#restriction-enzymes-2"><i class="fa fa-check"></i><b>11.4.1</b> Restriction enzymes</a></li>
<li class="chapter" data-level="11.4.2" data-path="exercise-solutions.html"><a href="exercise-solutions.html#prosite-patterns-2"><i class="fa fa-check"></i><b>11.4.2</b> Prosite Patterns</a></li>
<li class="chapter" data-level="11.4.3" data-path="exercise-solutions.html"><a href="exercise-solutions.html#fasta-headers-1"><i class="fa fa-check"></i><b>11.4.3</b> Fasta Headers</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="exercise-solutions.html"><a href="exercise-solutions.html#scripting-3"><i class="fa fa-check"></i><b>11.5</b> Scripting</a><ul>
<li class="chapter" data-level="11.5.1" data-path="exercise-solutions.html"><a href="exercise-solutions.html#illegal-reproductions-1"><i class="fa fa-check"></i><b>11.5.1</b> Illegal reproductions</a></li>
<li class="chapter" data-level="11.5.2" data-path="exercise-solutions.html"><a href="exercise-solutions.html#interquantile-ranges-1"><i class="fa fa-check"></i><b>11.5.2</b> Interquantile ranges</a></li>
<li class="chapter" data-level="11.5.3" data-path="exercise-solutions.html"><a href="exercise-solutions.html#vector-distance-1"><i class="fa fa-check"></i><b>11.5.3</b> Vector distance</a></li>
<li class="chapter" data-level="11.5.4" data-path="exercise-solutions.html"><a href="exercise-solutions.html#gc-percentage-of-dna-1"><i class="fa fa-check"></i><b>11.5.4</b> G/C percentage of DNA</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="exercise-solutions.html"><a href="exercise-solutions.html#function-apply-and-its-relatives-1"><i class="fa fa-check"></i><b>11.6</b> Function <code>apply</code> and its relatives</a><ul>
<li class="chapter" data-level="11.6.1" data-path="exercise-solutions.html"><a href="exercise-solutions.html#whale-selenium-1"><i class="fa fa-check"></i><b>11.6.1</b> Whale selenium</a></li>
<li class="chapter" data-level="11.6.2" data-path="exercise-solutions.html"><a href="exercise-solutions.html#chickweight-1"><i class="fa fa-check"></i><b>11.6.2</b> ChickWeight</a></li>
<li class="chapter" data-level="11.6.3" data-path="exercise-solutions.html"><a href="exercise-solutions.html#food-constituents-1"><i class="fa fa-check"></i><b>11.6.3</b> Food constituents</a></li>
<li class="chapter" data-level="11.6.4" data-path="exercise-solutions.html"><a href="exercise-solutions.html#urine-properties-1"><i class="fa fa-check"></i><b>11.6.4</b> Urine properties</a></li>
<li class="chapter" data-level="11.6.5" data-path="exercise-solutions.html"><a href="exercise-solutions.html#bird-observations-revisited-1"><i class="fa fa-check"></i><b>11.6.5</b> Bird observations revisited</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis &amp; Visualization using R (1)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions-1" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Functions</h1>
<div id="dealing-with-nas" class="section level2">
<h2><span class="header-section-number">6.1</span> Dealing with NAs</h2>
<p>Dealing with NA is a <strong><em>very big thing</em></strong>. When you work with external data there is always the possibility that some values will be missing.</p>
<p>You should be aware that it is not possible to test for <code>NA</code> values (Not Available) values in any other way; using <code>==</code> will simply return <code>NA</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="ot">NA</span>
x <span class="op">==</span><span class="st"> </span><span class="ot">NA</span></code></pre>
<pre><code>## [1] NA</code></pre>
<p>Other important functions for dealing with that are <code>na.omit()</code> and <code>complete.cases()</code>. Besides that, many functions in R have a (variant of) the <code>na.rm =</code> argument. For instance, when the <code>sum()</code> function encounters an NA in its input vector, it will always return <code>NA</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NA</span>)
<span class="kw">sum</span>(x)</code></pre>
<pre><code>## [1] NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] 6</code></pre>
</div>
<div id="descriptive-statistics" class="section level2">
<h2><span class="header-section-number">6.2</span> Descriptive statistics</h2>
<p>R provides a wealth of descriptive statistics functions. The most important ones of them are listed below. The ones with an asterisk are described in more detail in following paragraphs.</p>
<table>
<thead>
<tr class="header">
<th>function</th>
<th>purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>mean( )</code></td>
<td>mean</td>
</tr>
<tr class="even">
<td><code>median( )</code></td>
<td>median</td>
</tr>
<tr class="odd">
<td><code>min( )</code></td>
<td>minimum</td>
</tr>
<tr class="even">
<td><code>max( )</code></td>
<td>maximum</td>
</tr>
<tr class="odd">
<td><code>range( )</code></td>
<td>min and max</td>
</tr>
<tr class="even">
<td><code>var( )</code></td>
<td>variance s^2</td>
</tr>
<tr class="odd">
<td><code>sd( )</code></td>
<td>standard deviation s</td>
</tr>
<tr class="even">
<td><code>summary( )</code></td>
<td>6-number summary</td>
</tr>
<tr class="odd">
<td><code>quantile( )</code> *</td>
<td>quantiles</td>
</tr>
<tr class="even">
<td><code>IQR( )</code> *</td>
<td>interquantile range</td>
</tr>
</tbody>
</table>
<div id="the-quantile-function" class="section level4 unnumbered">
<h4>The <code>quantile()</code> function</h4>
<p>This function gives the data values corresponding to the specified quantiles. The function defaults to the quantiles <code>0%  25%  50%  75% 100%</code>: these are the <em>quartiles</em> of course.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">quantile</span>(ChickWeight<span class="op">$</span>weight)</code></pre>
<pre><code>##     0%    25%    50%    75%   100% 
##  35.00  63.00 103.00 163.75 373.00</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">quantile</span>(ChickWeight<span class="op">$</span>weight, <span class="dt">probs =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>))</code></pre>
<pre><code>##    0%   20%   40%   60%   80%  100% 
##  35.0  57.0  85.0 126.0 181.6 373.0</code></pre>
</div>
<div id="interquantile-range-iqr" class="section level4 unnumbered">
<h4>Interquantile range <code>IQR()</code></h4>
<p>Function <code>IQR()</code> gives the range between the 25% and 75% quantiles.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">IQR</span>(ChickWeight<span class="op">$</span>weight)</code></pre>
<pre><code>## [1] 100.75</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## same as</span>
<span class="kw">quantile</span>(ChickWeight<span class="op">$</span>weight)[<span class="dv">4</span>] <span class="op">-</span><span class="st"> </span><span class="kw">quantile</span>(ChickWeight<span class="op">$</span>weight)[<span class="dv">2</span>]</code></pre>
<pre><code>##    75% 
## 100.75</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## same as</span>
<span class="kw">diff</span>(<span class="kw">quantile</span>(ChickWeight<span class="op">$</span>weight, <span class="dt">probs =</span> <span class="kw">c</span>(<span class="fl">0.25</span>, <span class="fl">0.75</span>)))</code></pre>
<pre><code>##    75% 
## 100.75</code></pre>
</div>
<div id="boxplot-is-summary-visualized" class="section level4 unnumbered">
<h4><code>boxplot()</code> is <code>summary()</code> visualized</h4>
<p>Boxplot is a graph of the 5-number summary, but <code>summary()</code> also gives the mean</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(ChickWeight<span class="op">$</span>weight)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    35.0    63.0   103.0   121.8   163.8   373.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(ChickWeight<span class="op">$</span>weight)</code></pre>
<p><img src="davur_ebook_files/figure-html/box_demo-1.png" width="336" /></p>
</div>
</div>
<div id="general-purpose-functions" class="section level2">
<h2><span class="header-section-number">6.3</span> General purpose functions</h2>
<div id="memory-management" class="section level4 unnumbered">
<h4>Memory management</h4>
<p>When working with large datasets it may be useful to free some memory once in a while (i.e. intermediate results). Use <code>ls()</code> to see what is in memory; use <code>rm()</code> to delete single or several items: <code>rm(genes)</code>, <code>rm(x, y, z)</code> and clear all by typing <code>rm(list = ls())</code></p>
</div>
<div id="file-system-operations" class="section level4 unnumbered">
<h4>File system operations</h4>
<p>Several functions exist for working with the file system:</p>
<ul>
<li><code>getwd()</code> returns the current working directory.</li>
<li><code>setwd(&lt;/path/to/folder&gt;)</code> sets the current working directory.</li>
<li><code>dir()</code>, <code>dir(path)</code> lists the contents of the current directory, or of <code>path</code>.</li>
<li>A <code>path</code> can be defined as <code>&quot;E:\\emile\\datasets&quot;</code> (Windows) or, on Linux/Mac using relative paths <code>&quot;~/datasets&quot;</code> or absolute paths <code>&quot;/home/emile/datasets&quot;</code>.</li>
</ul>
</div>
<div id="glueing-character-elements-paste" class="section level4 unnumbered">
<h4>Glueing character elements: <code>paste()</code></h4>
<p>Use <code>paste()</code> to combine elements into a string</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</code></pre>
<pre><code>## [1] &quot;1 2 3&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dt">sep=</span><span class="st">&quot;-&quot;</span>)</code></pre>
<pre><code>## [1] &quot;1-2-3&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, month.abb)</code></pre>
<pre><code>##  [1] &quot;1 Jan&quot;  &quot;2 Feb&quot;  &quot;3 Mar&quot;  &quot;4 Apr&quot;  &quot;5 May&quot;  &quot;6 Jun&quot;  &quot;7 Jul&quot; 
##  [8] &quot;8 Aug&quot;  &quot;9 Sep&quot;  &quot;10 Oct&quot; &quot;11 Nov&quot; &quot;12 Dec&quot;</code></pre>
<p>There is a variant, <code>paste0()</code> which uses no separator by default.</p>
</div>
<div id="a-local-namespace-with" class="section level4 unnumbered">
<h4>A local namespace: <code>with()</code></h4>
<p>When you have a piece of related code operating on a single dataset, use <code>with()</code> so you don’t have to type its name all the time.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">with</span>(airquality, {
  mdl &lt;-<span class="st"> </span><span class="kw">lm</span>(Solar.R <span class="op">~</span><span class="st"> </span>Temp)
  <span class="kw">plot</span>(Solar.R <span class="op">~</span><span class="st"> </span>Temp)
  <span class="kw">abline</span>(mdl)
})</code></pre>
<p>Local variables such as <code>mdl</code> will not end up in the global environment.</p>
</div>
</div>
<div id="convert-numeric-vector-to-factor-cut" class="section level2">
<h2><span class="header-section-number">6.4</span> Convert numeric vector to factor: <code>cut()</code></h2>
<p>Sometimes it is useful to work with a factor instead of a numeric vector. For instance, when working with a Body Mass Index (bmi) variable it may be nice to split this into a factor for some analyses.
The function <code>cut()</code> is used for this.
Suppose you have the following fictitious dataset</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## body mass index</span>
bmi &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">22</span>, <span class="dv">32</span>, <span class="dv">21</span>, <span class="dv">37</span>, <span class="dv">28</span>, <span class="dv">34</span>, <span class="dv">26</span>, <span class="dv">29</span>,
         <span class="dv">41</span>, <span class="dv">18</span>, <span class="dv">22</span>, <span class="dv">27</span>, <span class="dv">32</span>, <span class="dv">31</span>, <span class="dv">26</span>)
<span class="co">## year income * 1000 euros</span>
income &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">23</span>, <span class="dv">14</span>, <span class="dv">20</span>, <span class="dv">13</span>, <span class="dv">47</span>, <span class="dv">15</span>, <span class="dv">38</span>, <span class="dv">29</span>, 
            <span class="dv">12</span>, <span class="dv">25</span>, <span class="dv">33</span>, <span class="dv">24</span>, <span class="dv">19</span>, <span class="dv">42</span>, <span class="dv">38</span>)
my_data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">bmi =</span> bmi, <span class="dt">income =</span> income)</code></pre>
<p>You can of course look at income as a function of bmi using a scatter plot:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">with</span>(my_data, <span class="kw">plot</span>(income <span class="op">~</span><span class="st"> </span>bmi))</code></pre>
<p><img src="davur_ebook_files/figure-html/cut-demo-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>But wouldn’t it be nice to look at the bmi categories as defined by the WHO? To be able to do this, you need to split the numeric <code>bmi</code> variable into a factor using <code>cut()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">my_data<span class="op">$</span>bmi_class &lt;-<span class="st"> </span><span class="kw">cut</span>(bmi,
    <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">18.5</span>, <span class="fl">25.0</span>, <span class="fl">30.0</span>, <span class="ot">Inf</span>), 
    <span class="dt">right =</span> F,
    <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;underweight&quot;</span>, <span class="st">&quot;normal&quot;</span>, <span class="st">&quot;overweight&quot;</span>, <span class="st">&quot;obese&quot;</span>),
    <span class="dt">ordered_result =</span> T)
<span class="kw">with</span>(my_data, <span class="kw">boxplot</span>(income <span class="op">~</span><span class="st"> </span>bmi_class))</code></pre>
<p><img src="davur_ebook_files/figure-html/cut-demo-3-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>The <code>breaks =</code> argument specifies the split positions; the <code>right = F</code> arguments specifies that the interval is <em>inclusive</em> on the lower (left) boundary:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>)
<span class="kw">cut</span>(x, <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="dt">right =</span> F)</code></pre>
<pre><code>## [1] [2,5)  [5,10) &lt;NA&gt;  
## Levels: [0,2) [2,5) [5,10)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cut</span>(x, <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="dt">right =</span> T)</code></pre>
<pre><code>## [1] (0,2]  (2,5]  (5,10]
## Levels: (0,2] (2,5] (5,10]</code></pre>
<p>An interval written as <code>(5,10]</code> means it is from -but excluding- 5 to -but including- 10.
Note that in the first example the last value (10) becomes NA because 10 is exclusive in that interval specification.</p>
</div>
<div id="file-io-revisited" class="section level2">
<h2><span class="header-section-number">6.5</span> File I/O revisited</h2>
<p>Whatever the contents of a file, you always need to address (some of) these questions:</p>
<ul>
<li>Are there comment lines at the top?</li>
<li>Is there a header line with column names?</li>
<li>What is the column separator?</li>
<li>Are there quotes around character data?</li>
<li>How are missing values encoded?</li>
<li>How are numeric values encoded?</li>
<li>Are there dates (a special challenge)</li>
<li>What is the type in each column?
<ul>
<li>character / numeric / factor / date-time</li>
</ul></li>
</ul>
<div id="some-read.table-arguments" class="section level4 unnumbered">
<h4>Some <code>read.table()</code> arguments</h4>
<table>
<thead>
<tr class="header">
<th>arg</th>
<th>specifies</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>sep</strong></td>
<td>field separator</td>
<td>sep = “:”</td>
</tr>
<tr class="even">
<td><strong>header</strong></td>
<td>is there a header</td>
<td>header = F</td>
</tr>
<tr class="odd">
<td><strong>dec</strong></td>
<td>decimal format</td>
<td>dec = “,”</td>
</tr>
<tr class="even">
<td><strong>comment.char</strong></td>
<td>comment line start</td>
<td>comment.char = &quot;&quot;</td>
</tr>
<tr class="odd">
<td><strong>na.strings</strong></td>
<td>NA value</td>
<td>na.strings = “-”</td>
</tr>
<tr class="even">
<td><strong>as.is</strong></td>
<td>load as character</td>
<td>as.is = c(1,4)</td>
</tr>
<tr class="odd">
<td><strong>stringsAsFactors</strong></td>
<td>load strings as factors</td>
<td>stringsAsFactors = F</td>
</tr>
</tbody>
</table>
</div>
<div id="the-data-reading-workflow" class="section level4 unnumbered">
<h4>The data reading workflow</h4>
<p>Always apply this sequence of steps and repeat until you are satisfied with the result:</p>
<ol style="list-style-type: decimal">
<li><code>read.table()</code> with arguments that seem OK</li>
<li>Check the result at least with <code>str()</code> and <code>head()</code> and verify that the columns have the correct data type.
<ul>
<li>Factors where numeric expected indicate missed “NA” values!</li>
</ul></li>
<li>Adjust the read.table parameters</li>
<li>Rinse and repeat</li>
</ol>
</div>
<div id="writing-data-to-file" class="section level4 unnumbered">
<h4>Writing data to file</h4>
<p>To write a data frame, matrix or vector to file, use <code>write.table(myData, file=&quot;file.csv&quot;)</code>. Standard is a comma-separated file with both column- and row names, unless otherwise specified:</p>
<ul>
<li><code>col.names = F</code></li>
<li><code>row.names = F</code></li>
<li><code>sep = &quot;;&quot;</code></li>
<li><code>sep = &quot;\t&quot; # tab-separated</code></li>
</ul>
</div>
<div id="saving-r-objects-to-file" class="section level4 unnumbered">
<h4>Saving R objects to file</h4>
<p>Use the <code>save()</code> function to write R objects to file for later use.
This is especially handy with intermediate results in long-running analysis workflows.</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>stats<span class="op">::</span><span class="kw">runif</span>(<span class="dv">20</span>)
y &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="ot">TRUE</span>, <span class="dt">c =</span> <span class="st">&quot;oops&quot;</span>)
<span class="kw">save</span>(x, y, <span class="dt">file =</span> <span class="st">&quot;xy.RData&quot;</span>)</code></pre>
</div>
<div id="writing-a-plot-to-file" class="section level4 unnumbered">
<h4>Writing a plot to file</h4>
<p>Use one of the functions <code>png()</code>, <code>jpeg()</code>, <code>tiff()</code>, or <code>bmp()</code> for these specific file types. They have widely differing properties, especially with respect to file size.<br />
Use <code>width</code> and <code>height</code> to specify size. Default unit is pixels. Use other unit: <code>units = &quot;mm&quot;</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">png</span>(<span class="st">&quot;/path/to/your/file.png&quot;</span>,
    <span class="dt">width =</span> <span class="dv">700</span>, <span class="dt">height =</span> <span class="dv">350</span>, <span class="dt">units =</span> <span class="st">&quot;mm&quot;</span>)
<span class="kw">plot</span>(cars)
<span class="kw">dev.off</span>() <span class="co"># don&#39;t forget this one!</span></code></pre>
</div>
</div>
<div id="pattern-matching" class="section level2">
<h2><span class="header-section-number">6.6</span> Pattern matching</h2>
<blockquote>
<p>Pattern matching is the process of finding, locating, extracting and replacing patterns in character data that usually cannot be literally described.</p>
</blockquote>
<p>For instance, it is easy enough to look for the word “Chimpanzee” in a vector containing animal species names:</p>
<pre class="sourceCode r"><code class="sourceCode r">animals =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Chimpanzee&quot;</span>, <span class="st">&quot;Cow&quot;</span>, <span class="st">&quot;Camel&quot;</span>)
animals <span class="op">==</span><span class="st"> &quot;Chimpanzee&quot;</span></code></pre>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<p>but what are you going to do if there are multiple variants of the word you are looking for? This?</p>
<pre class="sourceCode r"><code class="sourceCode r">animals =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Chimpanzee&quot;</span>, <span class="st">&quot;Chimp&quot;</span>, <span class="st">&quot;chimpanzee&quot;</span>, <span class="st">&quot;Camel&quot;</span>)
animals <span class="op">==</span><span class="st"> &quot;Chimpanzee&quot;</span> <span class="op">|</span><span class="st"> </span>animals <span class="op">==</span><span class="st"> &quot;Chimp&quot;</span> <span class="op">|</span><span class="st"> </span>animals <span class="op">==</span><span class="st"> &quot;chimpanzee&quot;</span></code></pre>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE</code></pre>
<p>The solution here is not using literals, but to describe <strong><em>patterns</em></strong>.</p>
<p>Look at the above example. How would you describe a pattern that would correctly identify all Chimpanzee occurrences?</p>
<p>Is you pattern something like this?</p>
<p><em>A letter C in upper-or lower case followed by ‘himp’ followed by nothing or ‘anzee’</em></p>
<p>In programming we use <strong><em>regular expressions</em></strong> or <strong><em>RegEx</em></strong> to describe such a pattern in a formal concise way:</p>
<p><code>[Cc]himp(anzee)?</code></p>
<p>And to apply such a pattern in R, we use one of several functions dedicated for this task. Here is one, <code>grepl()</code>, which returns <code>TRUE</code> if the regex matched the vector element.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grepl</span>(<span class="st">&quot;[Cc]himp(anzee)?&quot;</span>, animals)</code></pre>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE</code></pre>
<div id="functions-using-regex" class="section level4 unnumbered">
<h4>Functions using regex</h4>
<p>There are several functions dedicated to finding patters in character data. They differ in intent and output. Here is a listing.</p>
<ul>
<li><strong>finding</strong> Does an element contain a pattern (TRUE/FALSE)? <code>grepl(pattern, string)</code></li>
<li><strong>locating</strong> Which elements contain a pattern (INDEX)? <code>grep(pattern, string)</code></li>
<li><strong>extracting</strong> Get the content of matching elements <code>grep(pattern, string, value = TRUE)</code></li>
<li><strong>replace</strong> Replace the first occurrence of the pattern <code>sub(pattern, replacement, string)</code></li>
<li><strong>replace all</strong> Replace all occurrences of the pattern <code>gsub(pattern, replacement, string)</code></li>
</ul>
<p>Note that the <code>stringr</code> package from the tidyverse has many user-friendly functions in this field as well. Two of them will be dealt with in the exercises.</p>
</div>
<div id="regex-syntax" class="section level3">
<h3><span class="header-section-number">6.6.1</span> Regex syntax</h3>
<p>A regular expression can be build out of any combination of</p>
<ul>
<li><strong>character sequences</strong> - Literal character sequences such as ‘chimp’<br />
</li>
<li><strong>character classes</strong> - A listing of possibilities for a single position.
<ul>
<li>Between brackets: <code>[adgk]</code> means ‘a’ or ‘d’ or ‘g’ or ‘k’.</li>
<li>Use a hyphen to create a series: <code>[3-9]</code> means digits 3 through 9 and <code>[a-zA-Z]</code> means all alphabet characters.</li>
<li>Negate using <code>^</code>. <code>[^adgk]</code> means anything <em>but</em> a, d, g or k.</li>
<li>A special case is the dot <code>.</code>: any character matches.<br />
</li>
<li>Many special character classes exist (digits, whitespaces etc). They are discussed in a later paragraph.</li>
</ul></li>
<li><strong>alternatives</strong> - Are defined by the pipe symbol <code>|</code>: “OR”<br />
</li>
<li><strong>quantifiers</strong> - How many times the preceding block should occur. See next paragraph.<br />
</li>
<li><strong>anchors</strong> - <code>^</code> means matching at the start of a string. <code>$</code> means at the end.</li>
</ul>
<p>An excellent cheat sheet from the RStudio website is also included
<a href="figures/RegExCheatsheet.pdf" target="_blank">here</a></p>
</div>
<div id="quantifiers" class="section level3">
<h3><span class="header-section-number">6.6.2</span> Quantifiers</h3>
<p>Use quantifiers to specify how many times a character or series of characters should occur.</p>
<ul>
<li><strong><code>{n}</code></strong>: exactly <code>n</code> times</li>
<li><strong><code>{n, }</code></strong>: at least <code>n</code> times</li>
<li><strong><code>{ ,n}</code></strong>: at most <code>n</code> times</li>
<li><strong><code>{n, m}</code></strong>: at least <code>n</code> and at most <code>m</code> times.</li>
<li><strong><code>*</code></strong>: 0 or more times; same as <code>{0, }</code></li>
<li><strong><code>+</code></strong>: 1 or more times; same as <code>{1, }</code></li>
<li><strong><code>?</code></strong>: 0 or 1 time; same as <code>{0, 1}</code></li>
</ul>
</div>
<div id="some-examples" class="section level3">
<h3><span class="header-section-number">6.6.3</span> Some examples</h3>
<div id="restriction-enzymes" class="section level4 unnumbered">
<h4>Restriction enzymes</h4>
<p>This is the recognition sequence for the <em>HincII</em> restriction endonuclease:</p>
<pre><code>5&#39;-GTYRAC-3&#39;
3&#39;-CARYTG-5&#39;</code></pre>
<p>Before reading on: how would you define a regular expression that is precisely describes this recognition sequence?</p>
<p>Molecular biology sequence ambiguity codes can be found
<a href="data/ambiguity-codes.html" target="_blank">here</a></p>
<pre class="sourceCode r"><code class="sourceCode r">HincII_rs &lt;-<span class="st"> &quot;GT[CT][AG]AC&quot;</span>
sequences &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;GTCAAC&quot;</span>,
               <span class="st">&quot;GTCGAC&quot;</span>,
               <span class="st">&quot;GTTGAC&quot;</span>,
               <span class="st">&quot;aGTTAACa&quot;</span>,
               <span class="st">&quot;GTGCAC&quot;</span>)
<span class="kw">grep</span>(<span class="dt">pattern =</span> HincII_rs, <span class="dt">x =</span> sequences, <span class="dt">value =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] &quot;GTCAAC&quot;   &quot;GTCGAC&quot;   &quot;GTTGAC&quot;   &quot;aGTTAACa&quot;</code></pre>
</div>
<div id="dutch-dates" class="section level4 unnumbered">
<h4>Dutch dates</h4>
<p>Here are some Dutch dates, in different accepted formats. The last two are not a correct notation.
Create a RegEx that will determine whether an element contains a Dutch date string.</p>
<pre class="sourceCode r"><code class="sourceCode r">dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15/2/2019&quot;</span>, <span class="st">&quot;15-2-2019&quot;</span>, <span class="st">&quot;15-02-2019&quot;</span>, <span class="st">&quot;015/2/20191&quot;</span>, <span class="st">&quot;15/2/20191&quot;</span>)
dateRegex &lt;-<span class="st"> &quot;[0-9]{2}[/-][0-9]{1,2}[/-][0-9]{4}&quot;</span>
<span class="kw">grep</span>(<span class="dt">pattern =</span> dateRegex, <span class="dt">x =</span> dates, <span class="dt">value =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] &quot;15/2/2019&quot;   &quot;15-2-2019&quot;   &quot;15-02-2019&quot;  &quot;015/2/20191&quot; &quot;15/2/20191&quot;</code></pre>
<p>Why were the last two matched?<br />
Because the pattern <em>is there</em>, albeit embedded in a longer string.<br />
We have to <strong><em>anchor</em></strong> the pattern to be more specific.</p>
</div>
</div>
<div id="anchoring" class="section level3">
<h3><span class="header-section-number">6.6.4</span> Anchoring</h3>
<p>Using anchoring, you can make sure the string is not longer than you explicitly state:</p>
<pre class="sourceCode r"><code class="sourceCode r">dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15/2/2019&quot;</span>, <span class="st">&quot;15-2-2019&quot;</span>, <span class="st">&quot;15-02-2019&quot;</span>, <span class="st">&quot;015/2/20191&quot;</span>, <span class="st">&quot;15/2/20191&quot;</span>)
dateRegex &lt;-<span class="st"> &quot;^[0-9]{2}[/-][0-9]{1,2}[/-][0-9]{4}$&quot;</span>
<span class="kw">grep</span>(<span class="dt">pattern =</span> dateRegex, <span class="dt">x =</span> dates, <span class="dt">value =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] &quot;15/2/2019&quot;  &quot;15-2-2019&quot;  &quot;15-02-2019&quot;</code></pre>
<p>Now the date matching is correct.</p>
</div>
<div id="metacharacters-special-character-classes" class="section level3">
<h3><span class="header-section-number">6.6.5</span> Metacharacters: Special character classes</h3>
<p>Since patterns such as <code>[0-9]</code> occur so frequently, they have dedicated character classes such as <code>[[:digit:]]</code>. The most important other ones are</p>
<ul>
<li><strong>digits</strong> <code>[[:digit:]]</code> or <code>\\d</code>: equivalent to <code>[0-9]</code></li>
<li><strong>alphabet characters</strong> <code>[[:alpha:]]</code>: equivalent to <code>[a-zA-Z]</code></li>
<li><strong>lowercase characters</strong> <code>[[:lower:]]</code>: equivalent to <code>[a-z]</code></li>
<li><strong>uppercase characters</strong> <code>[[:upper:]]</code>: equivalent to <code>[A-Z]</code></li>
<li><strong>whitespace characters</strong> <code>[[:space:]]</code> or <code>\\s</code>: Space, tab, vertical tab, newline, form feed, carriage return</li>
<li><strong>punctuation characters</strong> <code>[[:punct:]]</code>: One of !&quot;#$%&amp;’()*+,-./:;&lt;=&gt;?@[]^_`{|}~</li>
</ul>
<p>(have a look at the cheat sheet for all)</p>
<p>Here is the same example, this time using these predefined character classes</p>
<pre class="sourceCode r"><code class="sourceCode r">dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;15/2/2019&quot;</span>, <span class="st">&quot;15-2-2019&quot;</span>, <span class="st">&quot;15-02-2019&quot;</span>, <span class="st">&quot;15022019&quot;</span>, <span class="st">&quot;15/2/20191&quot;</span>)
dateRegex &lt;-<span class="st"> &quot;[[:digit:]]{2}[/-]</span><span class="ch">\\</span><span class="st">d{1,2}[/-]</span><span class="ch">\\</span><span class="st">d{4}&quot;</span>
<span class="kw">grep</span>(<span class="dt">pattern =</span> dateRegex, <span class="dt">x =</span> dates, <span class="dt">value =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] &quot;15/2/2019&quot;  &quot;15-2-2019&quot;  &quot;15-02-2019&quot; &quot;15/2/20191&quot;</code></pre>
<div id="postal-codes" class="section level4 unnumbered">
<h4>Postal codes</h4>
<p>Here are some Dutch zip (postal) codes, in different accepted formats. The last two are not a correct notation.
Can you create a RegEx that will determine whether an element contains a Dutch zip code?</p>
<pre class="sourceCode r"><code class="sourceCode r">zips &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1234 AA&quot;</span>, <span class="st">&quot;2345-BB&quot;</span>, <span class="st">&quot;3456CC&quot;</span>, <span class="st">&quot;4567 dd&quot;</span>, <span class="st">&quot;56789aa&quot;</span>, <span class="st">&quot;6789a_&quot;</span>)
zips</code></pre>
<pre><code>## [1] &quot;1234 AA&quot; &quot;2345-BB&quot; &quot;3456CC&quot;  &quot;4567 dd&quot; &quot;56789aa&quot; &quot;6789a_&quot;</code></pre>
</div>
<div id="prosite-patterns" class="section level4 unnumbered">
<h4>Prosite patterns</h4>
<p><a href="https://prosite.expasy.org/" target="_blank">Prosite</a> is a database of amino acid sequence motifs. One of them is the Histidine Triad profile (PDOC00694).</p>
<pre><code>[NQAR]-x(4)-[GSAVY]-x-[QFLPA]-x-[LIVMY]-x-[HWYRQ]-  
[LIVMFYST]-H-[LIVMFT]-H-[LIVMF]-[LIVMFPT]-[PSGAWN]</code></pre>
<ul>
<li>Write this down as a RegEx</li>
<li>Was that efficient? Using the <code>gsub()</code> function, can you convert it in a RegEx using code? It may take several iterations. Was that efficient?<br />
</li>
<li>Next, use an appropriate function to find if, and where, this pattern is located within the sequences in file <code>data/hit_proteins.txt</code> (<a href="data/hit_proteins.txt" target="_blank">here</a>)</li>
</ul>
<p>Amino Acid codes and Prosite pattern encoding can be found
<a href="data/ambiguity-codes.html" target="_blank">here</a></p>
</div>
</div>
<div id="locating-and-extracting" class="section level3">
<h3><span class="header-section-number">6.6.6</span> Locating and Extracting</h3>
<p>This is outside the scope of this first acquaintance. The <code>stringr</code> package from the tidyverse is much better at this than the base R functions. One of the exercises introduces this topic for the eager ones among you.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="complex-datatypes-and-file-reading.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="scripting.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["davur_ebook.pdf", "davur_ebook.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
